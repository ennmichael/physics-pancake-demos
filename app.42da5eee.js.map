{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/DemoChoice.vue?b3a3","webpack:///./src/components/mass-aggregate/SpringDemo.vue?977c","webpack:///./src/components/mass-aggregate/TerrainDemo.vue?d112","webpack:///./src/components/mass-aggregate/ParticleDemo.vue?e0d7","webpack:///./src/components/mass-aggregate/ShapesDemo.vue?1e0b","webpack:///./src/components/mass-aggregate/ParticleCollisionDemo.vue?940b","webpack:///./src/components/mass-aggregate/RodDemo.vue?3cd5","webpack:///./src/components/Demo.vue","webpack:///./src/App.vue?379e","webpack:///./src/components/DemoChoice.vue?1bd5","webpack:///./src/components/mass-aggregate/ParticleDemo.vue?5769","webpack:///./src/engine/Simulation.ts","webpack:///./src/NotImplemented.ts","webpack:///src/components/Demo.vue","webpack:///./src/components/Demo.vue?ca44","webpack:///./src/components/GravitySlider.vue?3672","webpack:///src/components/GravitySlider.vue","webpack:///./src/components/GravitySlider.vue?450c","webpack:///./src/components/GravitySlider.vue","webpack:///./src/components/RestartButton.vue?277e","webpack:///./src/components/RestartButton.vue","webpack:///./src/components/InteractiveSimulationDisplay.vue?b522","webpack:///./src/utils.ts","webpack:///./src/Vector.ts","webpack:///./src/components/SimulationDisplay.vue?2db9","webpack:///./src/graphics.ts","webpack:///src/components/SimulationDisplay.vue","webpack:///./src/components/SimulationDisplay.vue?d9e2","webpack:///./src/components/SimulationDisplay.vue","webpack:///src/components/InteractiveSimulationDisplay.vue","webpack:///./src/components/InteractiveSimulationDisplay.vue?0eb6","webpack:///./src/components/InteractiveSimulationDisplay.vue","webpack:///./src/engine/Engine.ts","webpack:///./src/Circle.ts","webpack:///./src/engine/mass-aggregate/Particle.ts","webpack:///./src/engine/mass-aggregate/ParticleContact.ts","webpack:///./src/engine/mass-aggregate/TerrainContact.ts","webpack:///./src/engine/mass-aggregate/MassAggregateEngine.ts","webpack:///./src/Line.ts","webpack:///./src/engine/mass-aggregate/MassAggregateDrawing.ts","webpack:///src/components/mass-aggregate/ParticleDemo.vue","webpack:///./src/components/mass-aggregate/ParticleDemo.vue?7a20","webpack:///./src/components/mass-aggregate/ParticleDemo.vue","webpack:///./src/components/mass-aggregate/SpringDemo.vue?ca0e","webpack:///./src/components/StiffnessSlider.vue?c13b","webpack:///src/components/StiffnessSlider.vue","webpack:///./src/components/StiffnessSlider.vue?2028","webpack:///./src/components/StiffnessSlider.vue","webpack:///./src/engine/mass-aggregate/Spring.ts","webpack:///./src/engine/mass-aggregate/ElasticSpring.ts","webpack:///src/components/mass-aggregate/SpringDemo.vue","webpack:///./src/components/mass-aggregate/SpringDemo.vue?34fb","webpack:///./src/components/mass-aggregate/SpringDemo.vue","webpack:///./src/components/mass-aggregate/TerrainDemo.vue?3126","webpack:///./src/components/RestitutionSlider.vue?884f","webpack:///src/components/RestitutionSlider.vue","webpack:///./src/components/RestitutionSlider.vue?c1d7","webpack:///./src/components/RestitutionSlider.vue","webpack:///./src/components/AngleSlider.vue?132c","webpack:///src/components/AngleSlider.vue","webpack:///./src/components/AngleSlider.vue?0e4c","webpack:///./src/components/AngleSlider.vue","webpack:///./src/components/LengthSlider.vue?bcc2","webpack:///src/components/LengthSlider.vue","webpack:///./src/components/LengthSlider.vue?c087","webpack:///./src/components/LengthSlider.vue","webpack:///./src/Polygon.ts","webpack:///./src/engine/mass-aggregate/TerrainElement.ts","webpack:///src/components/mass-aggregate/TerrainDemo.vue","webpack:///./src/components/mass-aggregate/TerrainDemo.vue?139e","webpack:///./src/components/mass-aggregate/TerrainDemo.vue","webpack:///./src/components/mass-aggregate/ParticleCollisionDemo.vue?00d2","webpack:///./src/components/ParticleMassSliders.vue?6cff","webpack:///src/components/ParticleMassSliders.vue","webpack:///./src/components/ParticleMassSliders.vue?0394","webpack:///./src/components/ParticleMassSliders.vue","webpack:///src/components/mass-aggregate/ParticleCollisionDemo.vue","webpack:///./src/components/mass-aggregate/ParticleCollisionDemo.vue?bb7f","webpack:///./src/components/mass-aggregate/ParticleCollisionDemo.vue","webpack:///./src/components/mass-aggregate/RodDemo.vue?0be0","webpack:///./src/engine/mass-aggregate/Rod.ts","webpack:///src/components/mass-aggregate/RodDemo.vue","webpack:///./src/components/mass-aggregate/RodDemo.vue?7724","webpack:///./src/components/mass-aggregate/RodDemo.vue","webpack:///./src/components/mass-aggregate/ShapesDemo.vue?2a49","webpack:///src/components/mass-aggregate/ShapesDemo.vue","webpack:///./src/components/mass-aggregate/ShapesDemo.vue?93c8","webpack:///./src/components/mass-aggregate/ShapesDemo.vue","webpack:///src/components/DemoChoice.vue","webpack:///./src/components/DemoChoice.vue?dc53","webpack:///./src/components/DemoChoice.vue","webpack:///src/App.vue","webpack:///./src/App.vue?8b47","webpack:///./src/App.vue","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DemoChoice_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DemoChoice_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpringDemo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpringDemo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TerrainDemo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TerrainDemo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ParticleDemo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ParticleDemo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ShapesDemo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ShapesDemo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ParticleCollisionDemo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ParticleCollisionDemo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RodDemo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RodDemo_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","Demo_render","Demo_staticRenderFns","render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","DemoChoicevue_type_template_id_51573fa3_render","attrs","id","directives","rawName","expression","on","change","$event","$$selectedVal","Array","filter","target","options","selected","map","val","_value","currentDemo","multiple","_l","demo","title","domProps","component","_v","_s","tag","DemoChoicevue_type_template_id_51573fa3_staticRenderFns","ParticleDemovue_type_template_id_b5aab942_render","simulation","click","restartEngine","engine","ParticleDemovue_type_template_id_b5aab942_staticRenderFns","Simulation","drawing","redraw","integrateTime","time","NotImplemented_NotImplemented","_super","NotImplemented","tslib_es6","Error","Demovue_type_script_lang_js_","[object Object]","undefined","createEngine","engine_Simulation","createDrawing","context","document","getElementsByTagName","getContext","methods","previousEngine","src_NotImplemented","components_Demovue_type_script_lang_js_","componentNormalizer","Demo","GravitySlidervue_type_template_id_db37cfdc_render","for","modifiers","number","type","min","max","step","__r","$set","_n","blur","$forceUpdate","GravitySlidervue_type_template_id_db37cfdc_staticRenderFns","GravitySlidervue_type_script_lang_js_","props","components_GravitySlidervue_type_script_lang_js_","GravitySlider_component","GravitySlider","RestartButtonvue_type_template_id_641908f1_render","_g","$listeners","RestartButtonvue_type_template_id_641908f1_staticRenderFns","script","RestartButton_component","RestartButton","InteractiveSimulationDisplayvue_type_template_id_127eac5d_render","mousemove","onMouseMove","mouseup","onMouseUp","mousedown","onMouseDown","mouseleave","onMouseLeave","InteractiveSimulationDisplayvue_type_template_id_127eac5d_staticRenderFns","epsilon","findExtrema","sequence","comp","index","minElem","elem","left","right","almostEquals","a","b","x","Math","abs","valueIsBetween","params","minLimit","limits","maxLimit","sameSign","edgesAreConnected","edges","origin","end","repeatTask","task","milliseconds","setTimeout","Vector_Vector","Vector","y","reset","normal","positiveDirection","normalized","dot","negated","flippedTowards","direction","cloned","sqrt","magnitudeSquared","scaled","magnitude","other","cross","added","subtracted","factor","add","subtract","scale","negate","distanceSquared","distance","projected","isNormalized","toString","SimulationDisplayvue_type_template_id_8393ad32_render","width","height","reEmit","$emit","SimulationDisplayvue_type_template_id_8393ad32_staticRenderFns","clearContext","style","fillStyle","fillRect","canvas","drawCircle","circle","beginPath","position","fromNormalizedDeviceCoordinates","xRadius","radius","yRadius","ellipse","PI","fill","drawLine","line","strokeStyle","moveTo","lineTo","stroke","drawPolygon","polygon","points","edge","_b","next","done","point","coordinates","dimensions","src_Vector","toNormalizedDeviceCoordinates","SimulationDisplayvue_type_script_lang_js_","running","frameCallback","requestAnimationFrame","eventName","event","clickPosition","top","getBoundingClientRect","clientX","clientY","components_SimulationDisplayvue_type_script_lang_js_","SimulationDisplay_component","SimulationDisplay","minSelectionDistance","minSelectionDistanceSquared","particleThrowMultiplier","InteractiveSimulationDisplayvue_type_script_lang_js_MouseHistory","collectionDelay","entries","mousePosition","deltas","from","zero","delta","InteractiveSimulationDisplayvue_type_script_lang_js_","components","selection","particle","wasFixed","lastMousePosition","mouseHistory","addPosition","newlySelectedParticle","fixed","velocity","mouseHistoryLength","throwSelectedParticle","averageDelta","particles","selectionDistance","components_InteractiveSimulationDisplayvue_type_script_lang_js_","InteractiveSimulationDisplay_component","InteractiveSimulationDisplay","maxTimeDelta","Engine","timeAccumulator","lastIntegrationTime","currentTime","timeDelta","timestep","integrateStep","circlesOverlap","c1","c2","radiiSum","baseRadius","Particle_Particle","Particle","force","mass","gravityScale","fixedRadius","update","gravity","damping","applyGravity","updateVelocity","applyDamping","updatePosition","overlaps","pow","engine_Engine","acceleration","ParticleContact","impactSpeed","interpenetration","solve","solveInterpenetration","solveBounce","netMass","minimumBounceSpeed","minimumBounceSpeedSquared","TerrainContact","terrainElement","terrainEdge","closestEdge","closestPoint","removeInterpenetration","bounceParticle","slideParticle","applyFriction","offset","friction","speedSquared","normalVelocity","restitution","positionBound","positionWithinBounds","MassAggregateEngine_MassAggregateEngine","MassAggregateEngine","_this","springs","terrain","clearUselessParticles","resetForces","solveContacts","updateSprings","updateParticles","findContacts","contact","findParticleContacts","findTerrainContacts","e_2","_a","otherParticle","mass_aggregate_ParticleContact","_d","sent","e_3","overlapsCircle","mass_aggregate_TerrainContact","spring","Line_Line","Line","TypeError","intersectsRay","lineIntersectionParameters","u","intersectsLine","lineIntersection","intersectsCircle","containsPoint","lengthSquared","visualForceScale","visualVelocityScale","backgroundStyle","particleColor","hue","saturation","lightness","maxColorHue","springStyle","terrainStyle","forceStyle","velocityStyle","MassAggregateDrawing_MassAggregateDrawing","MassAggregateDrawing","hiddenObjects","drawingForces","drawingVelocities","drawingTerrain","drawingSprings","drawingParticles","clear","drawTerrain","drawParticles","drawSprings","drawForces","drawVelocities","visibleObjects","src_Line","currentHue","hueStep","objects","some","hiddenObject","ParticleDemovue_type_script_lang_js_","mixins","mass_aggregate_MassAggregateEngine","mass_aggregate_Particle","mass_aggregate_MassAggregateDrawing","mass_aggregate_ParticleDemovue_type_script_lang_js_","ParticleDemo_component","ParticleDemo","SpringDemovue_type_template_id_60d06566_render","model","callback","$$v","stiffness","SpringDemovue_type_template_id_60d06566_staticRenderFns","StiffnessSlidervue_type_template_id_a3db730c_render","input","Number","StiffnessSlidervue_type_template_id_a3db730c_staticRenderFns","StiffnessSlidervue_type_script_lang_js_","components_StiffnessSlidervue_type_script_lang_js_","StiffnessSlider_component","StiffnessSlider","Spring_Spring","Spring","restingLength","currentLength","contract","ElasticSpring_ElasticSpring","ElasticSpring","fromParticle","toParticle","contractionMagnitude","lengthDelta","mass_aggregate_Spring","SpringDemovue_type_script_lang_js_","watch","newStiffness","mass_aggregate_ElasticSpring","mass_aggregate_SpringDemovue_type_script_lang_js_","SpringDemo_component","SpringDemo","TerrainDemovue_type_template_id_014e951c_render","platformAngle","platformLength","TerrainDemovue_type_template_id_014e951c_staticRenderFns","RestitutionSlidervue_type_template_id_a49ea4d8_render","RestitutionSlidervue_type_template_id_a49ea4d8_staticRenderFns","RestitutionSlidervue_type_script_lang_js_","components_RestitutionSlidervue_type_script_lang_js_","RestitutionSlider_component","RestitutionSlider","AngleSlidervue_type_template_id_10fd9720_render","AngleSlidervue_type_template_id_10fd9720_staticRenderFns","AngleSlidervue_type_script_lang_js_","vue_runtime_esm","extend","components_AngleSlidervue_type_script_lang_js_","AngleSlider_component","AngleSlider","LengthSlidervue_type_template_id_31715bde_render","LengthSlidervue_type_template_id_31715bde_staticRenderFns","LengthSlidervue_type_script_lang_js_","components_LengthSlidervue_type_script_lang_js_","LengthSlider_component","LengthSlider","edgesFromVertices","vertices","verticesFromEdges","Polygon_Polygon","Polygon","ray","countIntersections","isVertex","vertex","reduce","acc","TerrainElement","isCounterClockwise","startingPosition","TerrainDemovue_type_script_lang_js_","platform","mass_aggregate_TerrainElement","src_Polygon","updatePlatformLayout","lengthHalf","cos","sin","mass_aggregate_TerrainDemovue_type_script_lang_js_","TerrainDemo_component","TerrainDemo","ParticleCollisionDemovue_type_template_id_1799913e_render","firingForce","ParticleCollisionDemovue_type_template_id_1799913e_staticRenderFns","ParticleMassSlidersvue_type_template_id_e8265d9e_render","ParticleMassSlidersvue_type_template_id_e8265d9e_staticRenderFns","ParticleMassSlidersvue_type_script_lang_js_","components_ParticleMassSlidersvue_type_script_lang_js_","ParticleMassSliders_component","ParticleMassSliders","leftParticlePosition","rightParticlePosition","ParticleCollisionDemovue_type_script_lang_js_FiredParticle","super","fired","ParticleCollisionDemovue_type_script_lang_js_","mass_aggregate_ParticleCollisionDemovue_type_script_lang_js_","ParticleCollisionDemo_component","ParticleCollisionDemo","RodDemovue_type_template_id_38d5db29_render","RodDemovue_type_template_id_38d5db29_staticRenderFns","Rod_Rod","Rod","contractOne","contractBoth","RodDemovue_type_script_lang_js_","mass_aggregate_Rod","mass_aggregate_RodDemovue_type_script_lang_js_","RodDemo_component","RodDemo","ShapesDemovue_type_template_id_07ca59c9_render","ShapesDemovue_type_template_id_07ca59c9_staticRenderFns","ShapesDemovue_type_script_lang_js_","mass_aggregate_ShapesDemovue_type_script_lang_js_","ShapesDemo_component","ShapesDemo","DemoChoicevue_type_script_lang_js_","demos","components_DemoChoicevue_type_script_lang_js_","DemoChoice_component","DemoChoice","Appvue_type_script_lang_js_","src_Appvue_type_script_lang_js_","App_component","App","config","productionTip","el","h"],"mappings":"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","file":"js/app.42da5eee.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DemoChoice.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DemoChoice.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpringDemo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpringDemo.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TerrainDemo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TerrainDemo.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParticleDemo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParticleDemo.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShapesDemo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShapesDemo.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParticleCollisionDemo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParticleCollisionDemo.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RodDemo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RodDemo.vue?vue&type=style&index=0&lang=css&\"","var render, staticRenderFns\nimport script from \"./Demo.vue?vue&type=script&lang=js&\"\nexport * from \"./Demo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DemoChoice')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"root\"}},[_c('div',{attrs:{\"id\":\"choice\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentDemo),expression:\"currentDemo\"}],attrs:{\"id\":\"selection\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.currentDemo=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.demos),function(demo){return _c('option',{key:demo.title,domProps:{\"value\":demo.component}},[_vm._v(\"\\n                \"+_vm._s(demo.title)+\"\\n            \")])}),0)]),_c('transition',{attrs:{\"name\":\"demo\",\"mode\":\"out-in\"}},[_c(_vm.currentDemo,{tag:\"component\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"root\"}},[_c('InteractiveSimulationDisplay',{attrs:{\"simulation\":_vm.simulation}}),_c('RestartButton',{attrs:{\"id\":\"restart-button\"},on:{\"click\":_vm.restartEngine}}),_c('GravitySlider',{attrs:{\"engine\":_vm.simulation.engine}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Drawing from './Drawing';\r\nimport Engine from './Engine';\r\n\r\n// XXX This thing is a bit weird because I need engine == drawing.engine, not sure what to do about that\r\n\r\nexport default class Simulation {\r\n    public constructor(public engine: Engine, public drawing: Drawing) {\r\n    }\r\n\r\n    public redraw(): void {\r\n        this.drawing.redraw();\r\n    }\r\n\r\n    public integrateTime(time: number): void {\r\n        this.engine.integrateTime(time);\r\n    }\r\n}\r\n","export default class NotImplemented extends Error {\r\n    public constructor() {\r\n        super('Not implemented');\r\n    }\r\n}\r\n","<script lang=\"js\">\r\nimport Vue from 'vue';\r\nimport Simulation from '../engine/Simulation';\r\nimport NotImplemented from '../NotImplemented';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            simulation: undefined,\r\n        };\r\n    },\r\n    created() {\r\n        const engine = this.createEngine({});\r\n        this.simulation = new Simulation(engine, this.createDrawing(engine));\r\n    },\r\n    mounted() {\r\n        this.simulation.drawing.context = document.getElementsByTagName('canvas')[0].getContext('2d');\r\n    },\r\n    methods: {\r\n        createEngine(previousEngine) {\r\n            throw new NotImplemented();\r\n        },\r\n        createDrawing(engine) {\r\n            // The created drawing can leave its context undefined.\r\n            // mounted() will set up the context properly.\r\n            throw new NotImplemented();\r\n        },\r\n        restartEngine() {\r\n            // XXX Ugh, what a hack\r\n            this.simulation.engine = this.createEngine(this.simulation.engine);\r\n            this.simulation.drawing.engine = this.simulation.engine;\r\n        },\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demo.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{attrs:{\"for\":\"gravity-slider\"}},[_vm._v(\"\\n    Gravity\\n  \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.engine.gravity),expression:\"engine.gravity\",modifiers:{\"number\":true}}],attrs:{\"id\":\"gravity-slider\",\"type\":\"range\",\"min\":\"0\",\"max\":\"1e-5\",\"step\":\"1e-9\"},domProps:{\"value\":(_vm.engine.gravity)},on:{\"__r\":function($event){_vm.$set(_vm.engine, \"gravity\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <label for=\"gravity-slider\">\r\n      Gravity\r\n    </label>\r\n    <input\r\n      id=\"gravity-slider\"\r\n      v-model.number=\"engine.gravity\"\r\n      type=\"range\"\r\n      min=\"0\"\r\n      max=\"1e-5\"\r\n      step=\"1e-9\"\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"js\">\r\nexport default {\r\n    props: {\r\n        engine: Object,\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GravitySlider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GravitySlider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GravitySlider.vue?vue&type=template&id=db37cfdc&\"\nimport script from \"./GravitySlider.vue?vue&type=script&lang=js&\"\nexport * from \"./GravitySlider.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('button',_vm._g({},_vm.$listeners),[_vm._v(\"\\n        Restart\\n    \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./RestartButton.vue?vue&type=template&id=641908f1&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('SimulationDisplay',{attrs:{\"simulation\":_vm.simulation},on:{\"mousemove\":_vm.onMouseMove,\"mouseup\":_vm.onMouseUp,\"mousedown\":_vm.onMouseDown,\"mouseleave\":_vm.onMouseLeave}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const epsilon = 1e-5;\r\n\r\ntype KeyFunc<T, K> = (x: T) => K;\r\n\r\ntype ComparisonFunc<T> = (left: T, right: T) => boolean;\r\n\r\nfunction findExtrema<T>(sequence: T[], comp: ComparisonFunc<T>): number {\r\n    let index;\r\n    let minElem;\r\n\r\n    for (let i = 0; i < sequence.length; ++i) {\r\n        const elem = sequence[i];\r\n        if (elem === undefined)\r\n            continue;\r\n        if (index === undefined || minElem === undefined || comp(elem, minElem)) {\r\n            index = i;\r\n            minElem = elem;\r\n        }\r\n    }\r\n\r\n    if (index !== undefined) {\r\n        return index;\r\n    } else {\r\n        return -1;\r\n    }\r\n}\r\n\r\nexport function min<T, K>(sequence: T[], key?: KeyFunc<T, K>): T|undefined {\r\n    let i;\r\n\r\n    const comp = <U>(left: U, right: U) => left < right;\r\n\r\n    if (key !== undefined)\r\n        i = findExtrema(sequence.map(key), comp);\r\n    else\r\n        i = findExtrema(sequence, comp);\r\n\r\n    if (i === -1)\r\n        return undefined;\r\n    else\r\n        return sequence[i];\r\n}\r\n\r\nexport function max<T, K>(sequence: T[], key?: KeyFunc<T, K>): T|undefined {\r\n    let i;\r\n\r\n    const comp = <U>(left: U, right: U) => left > right;\r\n\r\n    if (key !== undefined)\r\n        i = findExtrema(sequence.map(key), comp);\r\n    else\r\n        i = findExtrema(sequence, comp);\r\n\r\n    if (i === -1)\r\n        return undefined;\r\n    else\r\n        return sequence[i];\r\n}\r\n\r\nexport function almostEquals(a: number, b: number, x: number = epsilon): boolean {\r\n    return Math.abs(a - b) <= x;\r\n}\r\n\r\ninterface ValueIsBetweenParams {\r\n    value: number;\r\n    limits: number[];\r\n}\r\n\r\nexport function valueIsBetween(params: ValueIsBetweenParams): boolean {\r\n    const minLimit = Math.min(...params.limits);\r\n    const maxLimit = Math.max(...params.limits);\r\n    return minLimit <= params.value && params.value <= maxLimit;\r\n}\r\n\r\nexport function randomRange(lower: number, upper: number): number {\r\n    return Math.random() * (upper - lower) + lower;\r\n}\r\n\r\nexport function sameSign(a: number, b: number): boolean {\r\n    return (a > 0 && b > 0) || (a < 0 && b < 0);\r\n}\r\n\r\n// XXX Should this be here? It is difficult (impossible) to annotate\r\nexport function edgesAreConnected(edges: any): boolean {\r\n    for (let i = 1; i < edges.length; ++i) {\r\n        if (!edges[i].origin.almostEquals(edges[i - 1].end))\r\n            return false;\r\n    }\r\n\r\n    return edges[0].origin.almostEquals(edges[edges.length - 1].end);\r\n}\r\n\r\nexport function repeatTask(task: () => void, milliseconds: number): void {\r\n    setTimeout(() => {\r\n        task();\r\n        repeatTask(task, milliseconds);\r\n    }, milliseconds);\r\n}\r\n","import { almostEquals } from './utils';\r\n\r\nexport default class Vector {\r\n    public static get zero() {\r\n        return new Vector(0, 0);\r\n    }\r\n\r\n    public constructor(public x: number, public y: number) {\r\n    }\r\n\r\n    public reset(): void {\r\n        this.x = 0;\r\n        this.y = 0;\r\n    }\r\n\r\n    public normal(positiveDirection: Vector): Vector {\r\n        const normal = new Vector(-this.y, this.x).normalized;\r\n        if (normal.dot(positiveDirection) > 0)\r\n            return normal;\r\n        return normal.negated;\r\n    }\r\n\r\n    public flippedTowards(direction: Vector): Vector {\r\n        if (this.dot(direction) > 0)\r\n            return this.cloned;\r\n        return this.negated;\r\n    }\r\n\r\n    public get cloned(): Vector {\r\n        return new Vector(this.x, this.y);\r\n    }\r\n\r\n    public get magnitude(): number {\r\n        return Math.sqrt(this.magnitudeSquared);\r\n    }\r\n\r\n    public get magnitudeSquared(): number {\r\n        return this.x * this.x + this.y * this.y;\r\n    }\r\n\r\n    public get normalized(): Vector {\r\n        return this.scaled(1 / this.magnitude);\r\n    }\r\n\r\n    public get negated(): Vector {\r\n        return new Vector(-this.x, -this.y);\r\n    }\r\n\r\n    public get isNormalized(): boolean {\r\n        return almostEquals(this.magnitudeSquared, 1);\r\n    }\r\n\r\n    public almostEquals(other: Vector): boolean {\r\n        return almostEquals(this.x, other.x) && almostEquals(this.y, other.y);\r\n    }\r\n\r\n    public dot(other: Vector): number {\r\n        return this.x * other.x + this.y * other.y;\r\n    }\r\n\r\n    public cross(other: Vector): number {\r\n        return this.x * other.y - this.y * other.x;\r\n    }\r\n\r\n    public added(other: Vector): Vector {\r\n        return new Vector(this.x + other.x, this.y + other.y);\r\n    }\r\n\r\n    public subtracted(other: Vector): Vector {\r\n        return new Vector(this.x - other.x, this.y - other.y);\r\n    }\r\n\r\n    public scaled(factor: number): Vector {\r\n        return new Vector(this.x * factor, this.y * factor);\r\n    }\r\n\r\n    public add(other: Vector): void {\r\n        this.x += other.x;\r\n        this.y += other.y;\r\n    }\r\n\r\n    public subtract(other: Vector): void {\r\n        this.x -= other.x;\r\n        this.y -= other.y;\r\n    }\r\n\r\n    public scale(factor: number): void {\r\n        this.x *= factor;\r\n        this.y *= factor;\r\n    }\r\n\r\n    public negate(): void {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n    }\r\n\r\n    public distanceSquared(other: Vector): number {\r\n        return this.subtracted(other).magnitudeSquared;\r\n    }\r\n\r\n    public distance(other: Vector): number {\r\n        return Math.sqrt(this.distanceSquared(other));\r\n    }\r\n\r\n    public direction(other: Vector): Vector {\r\n        return other.subtracted(this).normalized;\r\n    }\r\n\r\n    public projected(other: Vector): Vector {\r\n        if (!other.isNormalized)\r\n            other = other.normalized;\r\n        return other.scaled(this.dot(other));\r\n    }\r\n\r\n    public toString(): string {\r\n        return `Vector(${this.x}, ${this.y})`;\r\n    }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{attrs:{\"width\":\"500\",\"height\":\"500\"},on:{\"mousemove\":function($event){return _vm.reEmit('mousemove', $event)},\"mousedown\":function($event){return _vm.reEmit('mousedown', $event)},\"mouseup\":function($event){return _vm.reEmit('mouseup', $event)},\"mouseleave\":function($event){return _vm.$emit('mouseleave')}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vector from './Vector';\r\nimport Line from './Line';\r\nimport Polygon from './Polygon';\r\nimport Circle from './Circle';\r\n\r\ntype Context = CanvasRenderingContext2D;\r\n\r\nexport function clearContext(context: Context, style: string): void {\r\n    if (style)\r\n        context.fillStyle = style;\r\n    context.fillRect(0, 0, context.canvas.width, context.canvas.height);\r\n}\r\n\r\nexport function drawCircle(context: Context, circle: Circle, style: string): void {\r\n    if (style)\r\n        context.fillStyle = style;\r\n    context.beginPath();\r\n    const position = fromNormalizedDeviceCoordinates(circle.origin, context.canvas);\r\n    const xRadius = context.canvas.width * circle.radius / 2;\r\n    const yRadius = context.canvas.height * circle.radius / 2;\r\n    context.ellipse(position.x, position.y, xRadius, yRadius, 0, 0, Math.PI * 2);\r\n    context.fill();\r\n}\r\n\r\nexport function drawLine(context: Context, line: Line, style: string): void {\r\n    if (style)\r\n        context.strokeStyle = style;\r\n    context.beginPath();\r\n    const origin = fromNormalizedDeviceCoordinates(line.origin, context.canvas);\r\n    context.moveTo(origin.x, origin.y);\r\n    const end = fromNormalizedDeviceCoordinates(line.end, context.canvas);\r\n    context.lineTo(end.x, end.y);\r\n    context.stroke();\r\n}\r\n\r\nexport function drawPolygon(context: Context, polygon: Polygon, style: string): void {\r\n    if (style)\r\n        context.fillStyle = style;\r\n\r\n    const points = polygon.edges.map(edge => fromNormalizedDeviceCoordinates(edge.origin, context.canvas));\r\n    context.beginPath();\r\n    context.moveTo(points[0].x, points[0].y);\r\n    for (const point of points.slice(1))\r\n        context.lineTo(point.x, point.y);\r\n    context.fill();\r\n}\r\n\r\ninterface Dimensions {\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\nexport function fromNormalizedDeviceCoordinates(coordinates: Vector, dimensions: Dimensions): Vector {\r\n    const factor = coordinates.added(new Vector(1, 1)).scaled(0.5);\r\n    return new Vector(\r\n        dimensions.width * factor.x,\r\n        dimensions.height * (1 - factor.y),\r\n    );\r\n}\r\n\r\nexport function toNormalizedDeviceCoordinates(coordinates: Vector, dimensions: Dimensions): Vector {\r\n    const factor = new Vector(coordinates.x / dimensions.width, 1 - coordinates.y / dimensions.height);\r\n    return factor.added(new Vector(-0.5, -0.5)).scaled(2);\r\n}\r\n","<template>\r\n  <canvas\r\n    width=\"500\"\r\n    height=\"500\"\r\n    @mousemove=\"reEmit('mousemove', $event)\"\r\n    @mousedown=\"reEmit('mousedown', $event)\"\r\n    @mouseup=\"reEmit('mouseup', $event)\"\r\n    @mouseleave=\"$emit('mouseleave')\"\r\n  />\r\n</template>\r\n\r\n<script lang=\"js\">\r\nimport { toNormalizedDeviceCoordinates } from '../graphics';\r\nimport Vector from '../Vector';\r\n\r\nexport default {\r\n    props: {\r\n        simulation: Object,\r\n    },\r\n    data() {\r\n        return {\r\n            running: true,\r\n        };\r\n    },\r\n    destroyed() {\r\n        this.running = false;\r\n    },\r\n    mounted() {\r\n        const frameCallback = time => {\r\n            if (!this.running)\r\n                return;\r\n\r\n            this.simulation.integrateTime(time);\r\n            this.simulation.redraw();\r\n            requestAnimationFrame(frameCallback);\r\n        };\r\n\r\n        requestAnimationFrame(frameCallback);\r\n    },\r\n    methods: {\r\n        reEmit(eventName, event) {\r\n            const { canvas } = this.simulation.drawing.context;\r\n            this.$emit(eventName, toNormalizedDeviceCoordinates(this.clickPosition(event), canvas));\r\n        },\r\n        clickPosition(event) {\r\n            const { canvas } = this.simulation.drawing.context;\r\n            const { left, top } = canvas.getBoundingClientRect();\r\n            return new Vector(event.clientX - left, event.clientY - top);\r\n        },\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationDisplay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationDisplay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SimulationDisplay.vue?vue&type=template&id=8393ad32&\"\nimport script from \"./SimulationDisplay.vue?vue&type=script&lang=js&\"\nexport * from \"./SimulationDisplay.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <SimulationDisplay\r\n    :simulation=\"simulation\"\r\n    @mousemove=\"onMouseMove\"\r\n    @mouseup=\"onMouseUp\"\r\n    @mousedown=\"onMouseDown\"\r\n    @mouseleave=\"onMouseLeave\"\r\n  />\r\n</template>\r\n\r\n<script lang=\"js\">\r\nimport Vector from '../Vector';\r\nimport { min, repeatTask } from '../utils';\r\nimport SimulationDisplay from './SimulationDisplay';\r\n\r\nconst minSelectionDistance = 9e-2;\r\n\r\nconst minSelectionDistanceSquared = minSelectionDistance * minSelectionDistance;\r\n\r\nconst particleThrowMultiplier = 9e-2;\r\n\r\nclass MouseHistory {\r\n    static get length() {\r\n        return 10;\r\n    }\r\n\r\n    static get collectionDelay() {\r\n        return 10;\r\n    }\r\n\r\n    constructor() {\r\n        this.entries = [];\r\n    }\r\n\r\n    addPosition(mousePosition) {\r\n        this.entries.push(mousePosition);\r\n        if (this.entries.length > MouseHistory.length)\r\n            this.entries = this.entries.slice(1);\r\n    }\r\n\r\n    averageDelta() {\r\n        const deltas = Array.from(this.deltas());\r\n\r\n        if (deltas.length === 0)\r\n            return Vector.zero;\r\n\r\n        const result = Vector.zero;\r\n        for (const delta of deltas)\r\n            result.add(delta);\r\n        result.scale(1/deltas.length);\r\n        return result;\r\n    }\r\n\r\n    *deltas() {\r\n        if (this.entries.length < 2)\r\n            return;\r\n\r\n        for (let i = 0; i < this.entries.length - 1; ++i)\r\n            yield this.entries[i + 1].subtracted(this.entries[i]);\r\n    }\r\n}\r\n\r\nexport default {\r\n    components: { SimulationDisplay },\r\n    props: {\r\n        simulation: Object,\r\n    },\r\n    data() {\r\n        return {\r\n            selection: {\r\n                particle: undefined,\r\n                wasFixed: undefined,\r\n            },\r\n            lastMousePosition: Vector.zero,\r\n            mouseHistory: new MouseHistory(),\r\n        };\r\n    },\r\n    created() {\r\n        repeatTask(() => {\r\n            if (this.selection.particle !== undefined)\r\n                this.mouseHistory.addPosition(this.lastMousePosition);\r\n        }, MouseHistory.collectionDelay);\r\n    },\r\n    methods: {\r\n        onMouseDown(mousePosition) {\r\n            this.selection.particle = this.newlySelectedParticle(mousePosition);\r\n\r\n            if (this.selection.particle === undefined)\r\n                return;\r\n\r\n            this.selection.particle.origin = mousePosition;\r\n            this.selection.wasFixed = this.selection.particle.fixed;\r\n            this.selection.particle.fixed = true;\r\n            this.selection.particle.velocity = Vector.zero;\r\n        },\r\n        onMouseMove(mousePosition) {\r\n            this.lastMousePosition = mousePosition;\r\n\r\n            if (this.selection.particle !== undefined)\r\n                this.selection.particle.origin = mousePosition;\r\n        },\r\n        updateMouseHistory() {\r\n            this.mouseHistory.push(this.lastMousePosition);\r\n            if (this.mouseHistory.length > mouseHistoryLength)\r\n                this.mouseHistory = this.mouseHistory.slice(1);\r\n        },\r\n        onMouseUp(mousePosition) {\r\n            if (this.selection.particle === undefined)\r\n                return;\r\n\r\n            if (!this.selection.wasFixed) {\r\n                this.selection.particle.fixed = false;\r\n                this.throwSelectedParticle(mousePosition);\r\n            }\r\n\r\n            this.selection.particle = undefined;\r\n        },\r\n        onMouseLeave() {\r\n            if (this.selection.particle === undefined)\r\n                return;\r\n            if (!this.selection.wasFixed)\r\n                this.selection.particle.fixed = false;\r\n            this.selection.particle = undefined;\r\n        },\r\n        throwSelectedParticle() {\r\n            const delta = this.mouseHistory.averageDelta();\r\n            this.selection.particle.velocity = delta.scaled(particleThrowMultiplier);\r\n        },\r\n        newlySelectedParticle(mousePosition) {\r\n            return min(this.simulation.engine.particles,\r\n                particle => {\r\n                    const selectionDistance = particle.origin.distanceSquared(mousePosition);\r\n                    if (selectionDistance > minSelectionDistanceSquared)\r\n                        return undefined;\r\n                    return selectionDistance;\r\n                },\r\n            );\r\n        },\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InteractiveSimulationDisplay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InteractiveSimulationDisplay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InteractiveSimulationDisplay.vue?vue&type=template&id=127eac5d&\"\nimport script from \"./InteractiveSimulationDisplay.vue?vue&type=script&lang=js&\"\nexport * from \"./InteractiveSimulationDisplay.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Trying to integrate more than maxTimeDelta milliseconds at a time\r\n// simply drops the integration and does nothing. Serves to fix lag.\r\nconst maxTimeDelta = 3000;\r\n\r\nexport default abstract class Engine {\r\n    public static get timestep(): number {\r\n        return 6;\r\n    }\r\n\r\n    public timeAccumulator: number = 0;\r\n    public lastIntegrationTime?: number = undefined;\r\n\r\n    public integrateTime(currentTime: number): void {\r\n        if (this.lastIntegrationTime === undefined) {\r\n            this.lastIntegrationTime = currentTime;\r\n            return;\r\n        }\r\n\r\n        const timeDelta = currentTime - this.lastIntegrationTime;\r\n        this.lastIntegrationTime = currentTime;\r\n        if (timeDelta > maxTimeDelta)\r\n            return;\r\n        this.timeAccumulator += timeDelta;\r\n        while (this.timeAccumulator >= Engine.timestep) {\r\n            this.timeAccumulator -= Engine.timestep;\r\n            this.integrateStep();\r\n        }\r\n    }\r\n\r\n    public abstract integrateStep(): void;\r\n}\r\n","import Vector from './Vector';\r\n\r\nexport default interface Circle {\r\n    origin: Vector;\r\n    radius: number;\r\n}\r\n\r\nexport function circlesOverlap(c1: Circle, c2: Circle): boolean {\r\n    const radiiSum = c1.radius + c2.radius;\r\n    return radiiSum * radiiSum >= c1.origin.distanceSquared(c2.origin);\r\n}\r\n","import Engine from '../Engine';\r\nimport Vector from '../../Vector';\r\nimport Circle, {circlesOverlap} from '../../Circle';\r\n\r\nconst baseRadius = 1.2e-2;\r\n\r\ninterface ParticleParams {\r\n    origin: Vector;\r\n    mass?: number;\r\n    gravityScale?: number;\r\n    fixedRadius?: number;\r\n    fixed?: boolean;\r\n}\r\n\r\nexport default class Particle implements Circle {\r\n    public origin: Vector;\r\n    public mass: number;\r\n    public gravityScale: number;\r\n    public fixedRadius?: number;\r\n    public fixed: boolean;\r\n    public force: Vector = Vector.zero;\r\n    public velocity: Vector = Vector.zero;\r\n\r\n    public constructor(params: ParticleParams) {\r\n        this.origin = params.origin;\r\n        this.mass = params.mass || 1;\r\n        this.gravityScale = params.gravityScale || 1;\r\n        this.fixedRadius = params.fixedRadius;\r\n        this.fixed = params.fixed || false;\r\n    }\r\n\r\n    public update(gravity: number, damping: number): void {\r\n        if (this.fixed) {\r\n            this.velocity = Vector.zero;\r\n            return;\r\n        }\r\n\r\n        this.applyGravity(gravity);\r\n        this.updateVelocity();\r\n        this.applyDamping(damping);\r\n        this.updatePosition();\r\n    }\r\n\r\n    public applyGravity(gravity: number): void {\r\n        this.force.add(new Vector(0, -gravity * this.mass).scaled(this.gravityScale));\r\n    }\r\n\r\n    public overlaps(other: Particle): boolean {\r\n        return circlesOverlap(this, other);\r\n    }\r\n\r\n    public get radius(): number {\r\n        if (this.fixedRadius !== undefined)\r\n            return this.fixedRadius;\r\n        return baseRadius * Math.sqrt(this.mass);\r\n    }\r\n\r\n    public get speed(): number {\r\n        return this.velocity.magnitude;\r\n    }\r\n\r\n    public get speedSquared(): number {\r\n        return this.velocity.magnitudeSquared;\r\n    }\r\n\r\n    public applyDamping(damping: number): void {\r\n        this.velocity.scale(Math.pow(1 - damping, Engine.timestep));\r\n    }\r\n\r\n    public updateVelocity(): void {\r\n        this.velocity.add(this.acceleration.scaled(Engine.timestep));\r\n    }\r\n\r\n    public updatePosition(): void {\r\n        this.origin.add(this.velocity.scaled(Engine.timestep));\r\n    }\r\n\r\n    public get acceleration(): Vector {\r\n        return this.force.scaled(1 / this.mass);\r\n    }\r\n}\r\n","import Contact from './Contact';\r\nimport Particle from './Particle';\r\nimport Vector from '../../Vector';\r\n\r\nexport default class ParticleContact implements Contact {\r\n    public normal: Vector;\r\n    public impactSpeed: number;\r\n    public interpenetration: number;\r\n\r\n    public constructor(public particles: Particle[]) {\r\n        this.particles = particles;\r\n        this.normal = this.particles[0].origin.direction(this.particles[1].origin);\r\n        this.impactSpeed =\r\n            this.particles[0].velocity.dot(this.normal) + this.particles[1].velocity.dot(this.normal.negated);\r\n        const distance = this.particles[0].origin.distance(this.particles[1].origin);\r\n        this.interpenetration = this.particles[0].radius + this.particles[1].radius - distance;\r\n    }\r\n\r\n    public solve(): void {\r\n        this.solveInterpenetration();\r\n        this.solveBounce();\r\n    }\r\n\r\n    public solveInterpenetration(): void {\r\n        const delta = this.normal.scaled(this.interpenetration / 2);\r\n        this.particles[0].origin.subtract(delta);\r\n        this.particles[1].origin.add(delta);\r\n    }\r\n\r\n    public solveBounce(): void {\r\n        const netMass = this.particles[0].mass + this.particles[1].mass;\r\n        this.particles[0].velocity = this.normal.scaled(-this.particles[1].mass * this.impactSpeed / netMass);\r\n        this.particles[1].velocity = this.normal.scaled(this.particles[0].mass * this.impactSpeed / netMass);\r\n    }\r\n}\r\n","import TerrainElement from './TerrainElement';\r\nimport Contact from './Contact';\r\nimport Particle from './Particle';\r\nimport Vector from '../../Vector';\r\nimport Line from '../../Line';\r\n\r\nconst minimumBounceSpeed = 1.3e-4;\r\n\r\nconst minimumBounceSpeedSquared = minimumBounceSpeed * minimumBounceSpeed;\r\n\r\ninterface TerrainContactParams {\r\n    particle: Particle;\r\n    terrainElement: TerrainElement;\r\n}\r\n\r\nexport default class TerrainContact implements Contact {\r\n    public particle: Particle;\r\n    public terrainElement: TerrainElement;\r\n    public terrainEdge: Line;\r\n    public normal: Vector;\r\n    public interpenetration: number;\r\n\r\n    public constructor(params: TerrainContactParams) {\r\n        this.particle = params.particle;\r\n        this.terrainElement = params.terrainElement;\r\n        this.terrainEdge = this.terrainElement.polygon.closestEdge(this.particle.origin);\r\n        this.normal = this.terrainEdge.normal(this.particle.velocity.negated);\r\n\r\n        const p = this.terrainEdge.closestPoint(this.particle.origin);\r\n        const d = p.distance(this.particle.origin);\r\n\r\n        if (d <= this.particle.radius)\r\n            this.interpenetration = this.particle.radius - d;\r\n        else\r\n            this.interpenetration = this.particle.radius + d;\r\n    }\r\n\r\n    public solve(): void {\r\n        this.removeInterpenetration();\r\n        if (this.bounceParticle())\r\n            return;\r\n        this.slideParticle();\r\n        this.applyFriction();\r\n    }\r\n\r\n    public removeInterpenetration(): void {\r\n        this.particle.origin.add(this.normal.scaled(this.interpenetration));\r\n    }\r\n\r\n    public slideParticle(): void {\r\n        const direction = this.terrainEdge.offset.flippedTowards(this.particle.velocity);\r\n        this.particle.velocity = this.particle.velocity.projected(direction);\r\n    }\r\n\r\n    public applyFriction(): void {\r\n        this.particle.velocity.scale(1 - this.terrainElement.friction);\r\n    }\r\n\r\n    public bounceParticle(): boolean {\r\n        if (this.particle.speedSquared < minimumBounceSpeedSquared)\r\n            return false;\r\n        const normalVelocity = this.particle.velocity.projected(this.normal).negated;\r\n        this.particle.velocity.add(normalVelocity.scaled(1 + this.terrainElement.restitution));\r\n        return true;\r\n    }\r\n}\r\n","import Engine from '../Engine';\r\nimport ParticleContact from './ParticleContact';\r\nimport TerrainContact from './TerrainContact';\r\nimport Particle from './Particle';\r\nimport Spring from './Spring';\r\nimport TerrainElement from './TerrainElement';\r\nimport Vector from '../../Vector';\r\n\r\nconst positionBound = 10;\r\n\r\nfunction positionWithinBounds(p: Vector) {\r\n    return (p.x >= -positionBound && p.x <= positionBound &&\r\n            p.y >= -positionBound && p.y <= positionBound);\r\n}\r\n\r\ninterface MassAggregateEngineParams {\r\n    gravity?: number;\r\n    damping?: number;\r\n    particles?: Particle[];\r\n    springs?: Spring[];\r\n    terrain?: TerrainElement[];\r\n}\r\n\r\nexport default class MassAggregateEngine extends Engine {\r\n    public gravity: number = 1e-6;\r\n    public damping: number = 7e-4;\r\n    public particles: Particle[] = [];\r\n    public springs: Spring[] = [];\r\n    public terrain: TerrainElement[] = [];\r\n\r\n    public constructor(params: MassAggregateEngineParams) {\r\n        super();\r\n\r\n        if (params.gravity !== undefined)\r\n            this.gravity = params.gravity;\r\n        if (params.damping !== undefined)\r\n            this.damping = params.damping;\r\n        if (params.particles !== undefined)\r\n            this.particles = params.particles;\r\n        if (params.springs !== undefined)\r\n            this.springs = params.springs;\r\n        if (params.terrain !== undefined)\r\n            this.terrain = params.terrain;\r\n    }\r\n\r\n    public clearUselessParticles() {\r\n        this.particles = this.particles.filter(\r\n            particle => positionWithinBounds(particle.origin));\r\n    }\r\n\r\n    public integrateStep() {\r\n        this.resetForces();\r\n        this.solveContacts();\r\n        this.updateSprings();\r\n        this.updateParticles();\r\n        this.clearUselessParticles();\r\n\r\n        // clearUselessParticles doesn't strictly need to be called whenever we\r\n        // integrate, but I decided to call it here for simplicity.\r\n    }\r\n\r\n    public solveContacts() {\r\n        for (const contact of this.findContacts())\r\n            contact.solve();\r\n    }\r\n\r\n    public findContacts() {\r\n        return [\r\n            ...this.findParticleContacts(),\r\n            ...this.findTerrainContacts(),\r\n        ];\r\n    }\r\n\r\n    public * findParticleContacts() {\r\n        for (let i = 0; i < this.particles.length - 1; ++i) {\r\n            const particle = this.particles[i];\r\n            for (const otherParticle of this.particles.slice(i + 1)) {\r\n                if (otherParticle.overlaps(particle))\r\n                    yield new ParticleContact([particle, otherParticle]);\r\n            }\r\n        }\r\n    }\r\n\r\n    public * findTerrainContacts() {\r\n        for (const particle of this.particles) {\r\n            for (const terrainElement of this.terrain) {\r\n                if (terrainElement.polygon.overlapsCircle(particle))\r\n                    yield new TerrainContact({ particle, terrainElement });\r\n            }\r\n        }\r\n    }\r\n\r\n    public resetForces() {\r\n        for (const particle of this.particles)\r\n            particle.force.reset();\r\n    }\r\n\r\n    public updateSprings() {\r\n        for (const spring of this.springs)\r\n            spring.update();\r\n    }\r\n\r\n    public updateParticles() {\r\n        for (const particle of this.particles)\r\n            particle.update(this.gravity, this.damping);\r\n    }\r\n}\r\n","import { epsilon, almostEquals, valueIsBetween, sameSign } from './utils';\r\nimport Vector from './Vector';\r\nimport Circle from './Circle';\r\n\r\ninterface LineParams {\r\n    origin: Vector;\r\n    offset?: Vector;\r\n    end?: Vector;\r\n}\r\n\r\ninterface IntersectionParameters {\r\n    t?: number;\r\n    u?: number;\r\n}\r\n\r\nexport default class Line {\r\n    public origin: Vector;\r\n    public offset: Vector;\r\n\r\n    public constructor(params: LineParams) {\r\n        const { origin, offset, end } = params;\r\n\r\n        if (offset !== undefined && end !== undefined)\r\n            throw new TypeError('Either offset or end may be specified, but not both');\r\n\r\n        this.origin = origin.cloned;\r\n\r\n        if (end !== undefined)\r\n            this.offset = end.subtracted(this.origin);\r\n        else if (offset !== undefined)\r\n            this.offset = offset;\r\n        else\r\n            throw new TypeError('Either offset or end must be specified');\r\n    }\r\n\r\n    public almostEquals(other: Line): boolean {\r\n        return this.origin.almostEquals(other.origin) && this.offset.almostEquals(other.offset);\r\n    }\r\n\r\n    public normal(positiveDirection: Vector): Vector {\r\n        return this.offset.normal(positiveDirection);\r\n    }\r\n\r\n    // Treats \"this\" line as if it were a ray directed from origin into end\r\n    public intersectsRay(other: Line): boolean {\r\n        const { t, u } = this.lineIntersectionParameters(other);\r\n\r\n        if (t === undefined || u === undefined)\r\n            return false;\r\n\r\n        return -epsilon < t && -epsilon < u && u < 1 + epsilon;\r\n    }\r\n\r\n    public intersectsLine(other: Line): boolean {\r\n        const { t, u } = this.lineIntersectionParameters(other);\r\n\r\n        if (t === undefined || u === undefined)\r\n            return false;\r\n\r\n        return -epsilon < t && t < 1 + epsilon && -epsilon < u && u < 1 + epsilon;\r\n    }\r\n\r\n    public lineIntersection(other: Line): Vector|undefined {\r\n        const { t, u } = this.lineIntersectionParameters(other);\r\n\r\n        if (t === undefined || u === undefined)\r\n            return undefined;\r\n\r\n        if (t > 1 + epsilon || t < -epsilon || u > 1 + epsilon || u < -epsilon)\r\n            return undefined;\r\n\r\n        return this.offset.scaled(t).added(this.origin);\r\n    }\r\n\r\n    // XXX Document this, stackoverflow link or have a local copy\r\n    private lineIntersectionParameters(other: Line): IntersectionParameters {\r\n        const a = other.origin.subtracted(this.origin);\r\n        const d = this.offset.cross(other.offset);\r\n\r\n        if (almostEquals(d, 0))\r\n            return { t: undefined, u: undefined };\r\n\r\n        return {\r\n            t: a.cross(other.offset) / d,\r\n            u: a.negated.cross(this.offset) / (-d),\r\n        };\r\n    }\r\n\r\n    public intersectsCircle(circle: Circle) {\r\n        const p = this.closestPoint(circle.origin);\r\n        return circle.origin.distanceSquared(p) <= circle.radius * circle.radius;\r\n    }\r\n\r\n    public containsPoint(p: Vector): boolean {\r\n        return almostEquals(p.subtracted(this.origin).cross(this.offset), 0) &&\r\n               valueIsBetween({ value: p.x, limits: [this.origin.x, this.end.x] }) &&\r\n               valueIsBetween({ value: p.y, limits: [this.origin.y, this.end.y] });\r\n    }\r\n\r\n    public closestPoint(point: Vector): Vector {\r\n        const c = point.subtracted(this.origin).dot(this.offset);\r\n        const d = point.subtracted(this.end).dot(this.offset.negated);\r\n\r\n        if (!sameSign(c, d)) {\r\n            if (this.origin.distanceSquared(point) < this.end.distanceSquared(point))\r\n                return this.origin;\r\n            return this.end;\r\n        }\r\n\r\n        // Call the closest point a.\r\n        // Two conditions hold:\r\n        // 1) the vector from p to a must be perpendicular to the line's offset,\r\n        //    therefore their dot product must be zero and\r\n        // 2) a must be on the line, therefore the cross product between\r\n        //    a and the line's offset must be 0.\r\n        // Get a by solving the two equations.\r\n\r\n        if (this.offset.x === 0)\r\n            return new Vector(this.origin.x, point.y);\r\n\r\n        if (this.offset.y === 0)\r\n            return new Vector(point.x, this.origin.y);\r\n\r\n        const t = this.offset.dot(point);\r\n        const y = (t * this.offset.y + this.offset.x * this.offset.cross(this.origin)) / this.offset.magnitudeSquared;\r\n        return new Vector((t - y * this.offset.y) / this.offset.x, y);\r\n    }\r\n\r\n    public distance(point: Vector): number {\r\n        return Math.sqrt(this.distanceSquared(point));\r\n    }\r\n\r\n    public distanceSquared(point: Vector): number {\r\n        return this.closestPoint(point).distanceSquared(point);\r\n    }\r\n\r\n    public get opposite(): Line {\r\n        return new Line({ origin: this.origin, offset: this.offset.negated });\r\n    }\r\n\r\n    public get end(): Vector {\r\n        return this.origin.added(this.offset);\r\n    }\r\n\r\n    public set end(value: Vector) {\r\n        this.offset = value.subtracted(this.origin);\r\n    }\r\n\r\n    public get length(): number {\r\n        return Math.sqrt(this.lengthSquared);\r\n    }\r\n\r\n    public get lengthSquared(): number {\r\n        return this.offset.x * this.offset.x + this.offset.y * this.offset.y;\r\n    }\r\n}\r\n","import { clearContext, drawCircle, drawLine, drawPolygon } from '../../graphics';\r\nimport Drawing from '../Drawing';\r\nimport Line from '../../Line';\r\nimport MassAggregateEngine from './MassAggregateEngine';\r\n\r\nconst visualForceScale = 100000;\r\n\r\nconst visualVelocityScale = 100;\r\n\r\nconst backgroundStyle = 'white';\r\n\r\nconst particleColor = {\r\n    hue: 225,\r\n    saturation: 70,\r\n    lightness: 40,\r\n};\r\n\r\nconst maxColorHue = 360;\r\n\r\nconst springStyle = 'grey';\r\n\r\nconst terrainStyle = 'rgb(155, 200, 200)';\r\n\r\nconst forceStyle = 'brown';\r\n\r\nconst velocityStyle = 'red';\r\n\r\ninterface MassAggregateDrawingParams {\r\n    context?: CanvasRenderingContext2D;\r\n    engine: MassAggregateEngine;\r\n    drawingForces?: boolean;\r\n    drawingVelocities?: boolean;\r\n    drawingTerrain?: boolean;\r\n    drawingSprings?: boolean;\r\n    drawingParticles?: boolean;\r\n}\r\n\r\nexport default class MassAggregateDrawing implements Drawing {\r\n    public context?: CanvasRenderingContext2D;\r\n    public engine: MassAggregateEngine;\r\n    public drawingForces: boolean;\r\n    public drawingVelocities: boolean;\r\n    public drawingTerrain: boolean;\r\n    public drawingSprings: boolean;\r\n    public drawingParticles: boolean;\r\n    public hiddenObjects: object[] = [];\r\n\r\n    public constructor(params: MassAggregateDrawingParams) {\r\n        this.context = params.context;\r\n        this.engine = params.engine;\r\n        this.drawingForces = params.drawingForces || false;\r\n        this.drawingVelocities = params.drawingVelocities || false;\r\n        this.drawingTerrain = params.drawingTerrain || true;\r\n        this.drawingSprings = params.drawingSprings || true;\r\n        this.drawingParticles = params.drawingParticles || true;\r\n    }\r\n\r\n    public redraw(): void {\r\n        this.clear();\r\n        this.drawTerrain();\r\n        this.drawParticles();\r\n        this.drawSprings();\r\n        this.drawForces();\r\n        this.drawVelocities();\r\n    }\r\n\r\n    public clear(): void {\r\n        if (this.context !== undefined) {\r\n            clearContext(this.context, backgroundStyle);\r\n        }\r\n    }\r\n\r\n    public drawTerrain(): void {\r\n        if (!this.drawingTerrain)\r\n            return;\r\n\r\n        if (this.context !== undefined) {\r\n            for (const { polygon } of this.visibleObjects(this.engine.terrain))\r\n                drawPolygon(this.context, polygon, terrainStyle);\r\n        }\r\n    }\r\n\r\n    public drawForces(): void {\r\n        if (!this.drawingForces)\r\n            return;\r\n\r\n        if (this.context !== undefined) {\r\n            for (const particle of this.visibleObjects(this.engine.particles)) {\r\n                drawLine(\r\n                    this.context,\r\n                    new Line({ origin: particle.origin, offset: particle.force.scaled(visualForceScale) }),\r\n                    forceStyle,\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    public drawVelocities(): void {\r\n        if (!this.drawingVelocities)\r\n            return;\r\n\r\n        if (this.context !== undefined) {\r\n            for (const particle of this.visibleObjects(this.engine.particles)) {\r\n                drawLine(\r\n                    this.context,\r\n                    new Line({ origin: particle.origin, offset: particle.velocity.scaled(visualVelocityScale) }),\r\n                    velocityStyle,\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    public drawParticles(): void {\r\n        if (!this.drawingParticles || this.engine.particles.length === 0)\r\n            return;\r\n\r\n        if (this.context !== undefined) {\r\n            let currentHue = particleColor.hue;\r\n            const hueStep = Math.min(\r\n                (maxColorHue - particleColor.hue) / this.engine.particles.length,\r\n                20,\r\n            );\r\n\r\n            for (const particle of this.visibleObjects(this.engine.particles)) {\r\n                const style = `hsl(${currentHue}, ${particleColor.saturation}%, ${particleColor.lightness}%)`;\r\n                drawCircle(this.context, particle, style);\r\n                currentHue -= hueStep;\r\n            }\r\n        }\r\n    }\r\n\r\n    public drawSprings(): void {\r\n        if (!this.drawingSprings)\r\n            return;\r\n\r\n        if (this.context !== undefined) {\r\n            for (const spring of this.visibleObjects(this.engine.springs))\r\n                drawLine(this.context, spring.line, springStyle);\r\n        }\r\n    }\r\n\r\n    public visibleObjects<T extends object>(objects: T[]): T[] {\r\n        return objects.filter(o => !this.hiddenObjects.some(hiddenObject => hiddenObject === o));\r\n    }\r\n}\r\n","<template>\r\n    <div id=\"root\">\r\n        <InteractiveSimulationDisplay :simulation=\"simulation\" />\r\n        <RestartButton id=\"restart-button\" @click=\"restartEngine\" />\r\n        <GravitySlider :engine=\"simulation.engine\" />\r\n    </div>\r\n</template>\r\n\r\n<style>\r\ndiv#root {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n\r\n#restart-button {\r\n    padding-top: 3%;\r\n}\r\n</style>\r\n\r\n<script lang=\"js\">\r\nimport Demo from '../Demo';\r\nimport GravitySlider from '../GravitySlider';\r\nimport RestartButton from '../RestartButton';\r\nimport InteractiveSimulationDisplay from '../InteractiveSimulationDisplay';\r\nimport Particle from '../../engine/mass-aggregate/Particle';\r\nimport MassAggregateEngine from '../../engine/mass-aggregate/MassAggregateEngine';\r\nimport MassAggregateDrawing from '../../engine/mass-aggregate/MassAggregateDrawing';\r\nimport Vector from '../../Vector';\r\n\r\nexport default {\r\n    components: {\r\n        InteractiveSimulationDisplay,\r\n        RestartButton,\r\n        GravitySlider,\r\n    },\r\n    mixins: [Demo],\r\n    methods: {\r\n        createEngine(previousEngine) {\r\n            return new MassAggregateEngine({\r\n                gravity: previousEngine.gravity,\r\n                damping: 0,\r\n                particles: [\r\n                    new Particle({\r\n                        origin: new Vector(0, 0),\r\n                    }),\r\n                ],\r\n            });\r\n        },\r\n        createDrawing(engine) {\r\n            return new MassAggregateDrawing({ engine });\r\n        },\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParticleDemo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParticleDemo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ParticleDemo.vue?vue&type=template&id=b5aab942&\"\nimport script from \"./ParticleDemo.vue?vue&type=script&lang=js&\"\nexport * from \"./ParticleDemo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ParticleDemo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"root\"}},[_c('InteractiveSimulationDisplay',{attrs:{\"simulation\":_vm.simulation}}),_c('RestartButton',{attrs:{\"id\":\"restart-button\"},on:{\"click\":_vm.restartEngine}}),_c('StiffnessSlider',{model:{value:(_vm.stiffness),callback:function ($$v) {_vm.stiffness=$$v},expression:\"stiffness\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{attrs:{\"for\":\"stiffness-slider\"}},[_vm._v(\"\\n    Stiffness\\n  \")]),_c('input',{attrs:{\"id\":\"stiffness-slider\",\"type\":\"range\",\"min\":\"1e-6\",\"max\":\"1e-4\",\"step\":\"1e-9\"},domProps:{\"value\":_vm.value},on:{\"input\":function($event){_vm.$emit('input', Number($event.target.value))}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <label for=\"stiffness-slider\">\r\n      Stiffness\r\n    </label>\r\n    <input\r\n      id=\"stiffness-slider\"\r\n      :value=\"value\"\r\n      type=\"range\"\r\n      min=\"1e-6\"\r\n      max=\"1e-4\"\r\n      step=\"1e-9\"\r\n      @input=\"$emit('input', Number($event.target.value))\"\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"js\">\r\nexport default {\r\n    props: {\r\n        value: Number,\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StiffnessSlider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StiffnessSlider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StiffnessSlider.vue?vue&type=template&id=a3db730c&\"\nimport script from \"./StiffnessSlider.vue?vue&type=script&lang=js&\"\nexport * from \"./StiffnessSlider.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Particle from './Particle';\r\nimport Line from '../../Line';\r\n\r\nexport default abstract class Spring {\r\n    public restingLength: number;\r\n\r\n    public constructor(public particles: Particle[]) {\r\n        if (particles.length !== 2)\r\n            throw new Error('Wrong number of particles');\r\n\r\n        this.restingLength = this.currentLength;\r\n    }\r\n\r\n    public update(): void {\r\n        this.contract(this.particles[0], this.particles[1]);\r\n        this.contract(this.particles[1], this.particles[0]);\r\n    }\r\n\r\n    public abstract contract(fromParticle: Particle, toParticle: Particle): void;\r\n\r\n    public get line(): Line {\r\n        return new Line({\r\n            origin: this.particles[0].origin,\r\n            end: this.particles[1].origin,\r\n        });\r\n    }\r\n\r\n    public get currentLength(): number {\r\n        return this.particles[0].origin.distance(this.particles[1].origin);\r\n    }\r\n\r\n    public get lengthDelta(): number {\r\n        return this.currentLength - this.restingLength;\r\n    }\r\n}\r\n","import Spring from './Spring';\r\nimport Particle from './Particle';\r\n\r\ninterface ElasticSpringParams {\r\n    particles: Particle[];\r\n    stiffness: number;\r\n}\r\n\r\nexport default class ElasticSpring extends Spring {\r\n    public stiffness: number;\r\n\r\n    public constructor(params: ElasticSpringParams) {\r\n        super(params.particles);\r\n        this.stiffness = params.stiffness;\r\n    }\r\n\r\n    public contract(fromParticle: Particle, toParticle: Particle): void {\r\n        const direction = fromParticle.origin.direction(toParticle.origin);\r\n        fromParticle.force.add(direction.scaled(this.contractionMagnitude));\r\n    }\r\n\r\n    public get contractionMagnitude(): number {\r\n        return this.stiffness * this.lengthDelta;\r\n    }\r\n}\r\n","<template>\r\n    <div id=\"root\">\r\n        <InteractiveSimulationDisplay :simulation=\"simulation\" />\r\n        <RestartButton id=\"restart-button\" @click=\"restartEngine\" />\r\n        <StiffnessSlider v-model=\"stiffness\" />\r\n    </div>\r\n</template>\r\n\r\n<style>\r\ndiv#root {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n</style>\r\n\r\n<script lang=\"js\">\r\nimport Demo from '../Demo';\r\nimport InteractiveSimulationDisplay from '../InteractiveSimulationDisplay';\r\nimport RestartButton from '../RestartButton';\r\nimport StiffnessSlider from '../StiffnessSlider';\r\nimport MassAggregateEngine from '../../engine/mass-aggregate/MassAggregateEngine';\r\nimport MassAggregateDrawing from '../../engine/mass-aggregate/MassAggregateDrawing';\r\nimport ElasticSpring from '../../engine/mass-aggregate/ElasticSpring';\r\nimport Particle from '../../engine/mass-aggregate/Particle';\r\nimport Vector from '../../Vector';\r\n\r\nexport default {\r\n    components: {\r\n        InteractiveSimulationDisplay,\r\n        RestartButton,\r\n        StiffnessSlider,\r\n    },\r\n    mixins: [Demo],\r\n    data() {\r\n        return {\r\n            stiffness: 1e-5,\r\n        };\r\n    },\r\n    watch: {\r\n        stiffness(newStiffness) {\r\n            this.simulation.engine.springs[0].stiffness = newStiffness;\r\n        },\r\n    },\r\n    methods: {\r\n        createEngine(previousEngine) {\r\n            const particles = [\r\n                new Particle({\r\n                    origin: Vector.zero,\r\n                    mass: 1,\r\n                    fixed: true,\r\n                }),\r\n                new Particle({\r\n                    origin: new Vector(-0.2, 0.2),\r\n                    gravityScale: 2.5,\r\n                    mass: 1,\r\n                }),\r\n            ];\r\n            return new MassAggregateEngine({\r\n                gravity: previousEngine.gravity,\r\n                damping: previousEngine.damping,\r\n                particles,\r\n                springs: [\r\n                    new ElasticSpring({ particles, stiffness: this.stiffness }),\r\n                ],\r\n            });\r\n        },\r\n        createDrawing(engine) {\r\n            return new MassAggregateDrawing({ engine });\r\n        },\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpringDemo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpringDemo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpringDemo.vue?vue&type=template&id=60d06566&\"\nimport script from \"./SpringDemo.vue?vue&type=script&lang=js&\"\nexport * from \"./SpringDemo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpringDemo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"root\"}},[_c('InteractiveSimulationDisplay',{attrs:{\"simulation\":_vm.simulation}}),_c('RestartButton',{on:{\"click\":_vm.restartEngine}}),_c('div',{attrs:{\"id\":\"remaining-ui\"}},[_c('RestitutionSlider',{model:{value:(_vm.restitution),callback:function ($$v) {_vm.restitution=$$v},expression:\"restitution\"}}),_c('AngleSlider',{model:{value:(_vm.platformAngle),callback:function ($$v) {_vm.platformAngle=$$v},expression:\"platformAngle\"}}),_c('LengthSlider',{model:{value:(_vm.platformLength),callback:function ($$v) {_vm.platformLength=$$v},expression:\"platformLength\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{attrs:{\"for\":\"restitution-slider\"}},[_vm._v(\"\\n    Restitution\\n  \")]),_c('input',{attrs:{\"id\":\"restitution-slider\",\"type\":\"range\",\"min\":\"0\",\"max\":\"0.9\",\"step\":\"1e-9\"},domProps:{\"value\":_vm.value},on:{\"input\":function($event){_vm.$emit('input', Number($event.target.value))}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <label for=\"restitution-slider\">\r\n      Restitution\r\n    </label>\r\n    <input\r\n      id=\"restitution-slider\"\r\n      :value=\"value\"\r\n      type=\"range\"\r\n      min=\"0\"\r\n      max=\"0.9\"\r\n      step=\"1e-9\"\r\n      @input=\"$emit('input', Number($event.target.value))\"\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"js\">\r\nexport default {\r\n    props: {\r\n        value: Number,\r\n        terrainElement: Object,\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RestitutionSlider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RestitutionSlider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RestitutionSlider.vue?vue&type=template&id=a49ea4d8&\"\nimport script from \"./RestitutionSlider.vue?vue&type=script&lang=js&\"\nexport * from \"./RestitutionSlider.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{attrs:{\"for\":\"angle-slider\"}},[_vm._v(\"\\n    Angle\\n  \")]),_c('input',{attrs:{\"id\":\"angle-slider\",\"type\":\"range\",\"min\":\"-1.57\",\"max\":\"1.57\",\"step\":\"1e-9\"},domProps:{\"value\":_vm.value},on:{\"input\":function($event){_vm.$emit('input', Number($event.target.value))}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <label for=\"angle-slider\">\r\n      Angle\r\n    </label>\r\n    <input\r\n      id=\"angle-slider\"\r\n      type=\"range\"\r\n      min=\"-1.57\"\r\n      max=\"1.57\"\r\n      step=\"1e-9\"\r\n      :value=\"value\"\r\n      @input=\"$emit('input', Number($event.target.value))\"\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"js\">\r\nimport Vue from 'vue';\r\n\r\nexport default Vue.extend({\r\n    props: {\r\n        value: Number,\r\n    },\r\n});\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AngleSlider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AngleSlider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AngleSlider.vue?vue&type=template&id=10fd9720&\"\nimport script from \"./AngleSlider.vue?vue&type=script&lang=js&\"\nexport * from \"./AngleSlider.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{attrs:{\"for\":\"length-slider\"}},[_vm._v(\"\\n    Length\\n  \")]),_c('input',{attrs:{\"id\":\"length-slider\",\"type\":\"range\",\"min\":\"0.2\",\"max\":\"4\",\"step\":\"1e-9\"},domProps:{\"value\":_vm.value},on:{\"input\":function($event){_vm.$emit('input', Number($event.target.value))}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <label for=\"length-slider\">\r\n      Length\r\n    </label>\r\n    <input\r\n      id=\"length-slider\"\r\n      type=\"range\"\r\n      :value=\"value\"\r\n      min=\"0.2\"\r\n      max=\"4\"\r\n      step=\"1e-9\"\r\n      @input=\"$emit('input', Number($event.target.value))\"\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"js\">\r\nexport default {\r\n    props: {\r\n        value: Number,\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LengthSlider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LengthSlider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LengthSlider.vue?vue&type=template&id=31715bde&\"\nimport script from \"./LengthSlider.vue?vue&type=script&lang=js&\"\nexport * from \"./LengthSlider.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { min, almostEquals, edgesAreConnected } from './utils';\r\nimport Line from './Line';\r\nimport Vector from './Vector';\r\nimport Circle from './Circle';\r\n\r\nfunction edgesFromVertices(vertices: ReadonlyArray<Vector>): Line[] {\r\n    const edges: Line[] = [];\r\n\r\n    for (let i = 0; i < vertices.length - 1; ++i)\r\n        edges.push(new Line({ origin: vertices[i].cloned, end: vertices[i + 1].cloned }));\r\n    edges.push(new Line({ origin: vertices[vertices.length - 1].cloned, end: vertices[0].cloned }));\r\n\r\n    return edges;\r\n}\r\n\r\nfunction verticesFromEdges(edges: Line[]): Vector[] {\r\n    return edges.map(edge => edge.origin);\r\n}\r\n\r\ninterface PolygonParams {\r\n    vertices?: Vector[];\r\n    edges?: Line[];\r\n}\r\n\r\nexport default class Polygon {\r\n    public readonly vertices: ReadonlyArray<Vector>;\r\n\r\n    public constructor(params: PolygonParams) {\r\n        const { vertices, edges } = params;\r\n\r\n        if (vertices !== undefined && edges !== undefined)\r\n            throw new Error('Either vertices or edges should be specified, but not both');\r\n\r\n        if (vertices !== undefined) {\r\n            if (vertices.length < 3)\r\n                throw new Error('A polygon must contain at least three vertices');\r\n\r\n            this.vertices = Array.from(vertices);\r\n            return;\r\n        } else if (edges !== undefined) {\r\n            if (edges.length < 3)\r\n                throw new Error('A polygon must contain at least three edges');\r\n            if (!edgesAreConnected(edges))\r\n                throw new Error('Polygon edges must be connected');\r\n            this.vertices = verticesFromEdges(edges);\r\n        } else {\r\n            throw new Error('Either vertices or edges must be specified');\r\n        }\r\n    }\r\n\r\n    public get isCounterClockwise(): boolean {\r\n        const edges = this.edges;\r\n        let c = 0;\r\n\r\n        for (let i = 0; i < edges.length - 1; ++i) {\r\n            c = edges[i].offset.cross(edges[i + 1].offset);\r\n            if (almostEquals(c, 0))\r\n                throw new Error('Two edges are collinear');\r\n            if (c < 0)\r\n                return false;\r\n        }\r\n\r\n        c = edges[edges.length - 1].offset.cross(edges[0].offset);\r\n        if (almostEquals(c, 0))\r\n            throw new Error('Two edges are collinear');\r\n        return c > 0;\r\n    }\r\n\r\n    public get edges(): Line[] {\r\n        return Array.from(edgesFromVertices(this.vertices));\r\n    }\r\n\r\n    public overlapsCircle(circle: Circle): boolean {\r\n        for (const edge of this.edges) {\r\n            if (edge.intersectsCircle(circle))\r\n                return true;\r\n        }\r\n\r\n        const ray = new Line({ origin: circle.origin, offset: new Vector(1, 0) });\r\n        return this.countIntersections(ray) % 2 === 1;\r\n    }\r\n\r\n    public containsPoint(point: Vector): boolean {\r\n        if (this.isVertex(point))\r\n            return true;\r\n\r\n        const ray = new Line({ origin: point, offset: new Vector(1, 0) });\r\n        return this.countIntersections(ray) % 2 === 1;\r\n    }\r\n\r\n    public isVertex(point: Vector): boolean {\r\n        return this.vertices.some(vertex => vertex.almostEquals(point));\r\n    }\r\n\r\n    public countIntersections(ray: Line): number {\r\n        return this.edges.reduce((acc, edge) => {\r\n            if (ray.intersectsRay(edge))\r\n                return acc + 1;\r\n            return acc;\r\n        }, 0);\r\n    }\r\n\r\n    public closestEdge(point: Vector): Line {\r\n        return min(this.edges, edge => edge.distance(point)) as Line;\r\n    }\r\n}\r\n","import Polygon from '../../Polygon';\r\n\r\ninterface TerrainElementParams {\r\n    polygon: Polygon;\r\n    restitution?: number;\r\n    friction?: number;\r\n}\r\n\r\nexport default class TerrainElement {\r\n    public polygon: Polygon;\r\n    public restitution: number;\r\n    public friction: number;\r\n\r\n    public constructor(params: TerrainElementParams) {\r\n        if (!params.polygon.isCounterClockwise)\r\n            throw new Error('Polygon must be in counter-clockwise order');\r\n\r\n        this.polygon = params.polygon;\r\n        this.restitution = params.restitution || 0;\r\n        this.friction = params.friction || 0;\r\n    }\r\n}\r\n","<template>\r\n    <div id=\"root\">\r\n        <InteractiveSimulationDisplay :simulation=\"simulation\" />\r\n        <RestartButton @click=\"restartEngine\" />\r\n        <div id=\"remaining-ui\">\r\n            <RestitutionSlider v-model=\"restitution\" />\r\n            <AngleSlider v-model=\"platformAngle\" />\r\n            <LengthSlider v-model=\"platformLength\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style>\r\ndiv#root {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n</style>\r\n\r\n\r\n<script lang=\"js\">\r\nimport Demo from '../Demo';\r\nimport InteractiveSimulationDisplay from '../InteractiveSimulationDisplay';\r\nimport RestartButton from '../RestartButton';\r\nimport RestitutionSlider from '../RestitutionSlider';\r\nimport AngleSlider from '../AngleSlider';\r\nimport LengthSlider from '../LengthSlider';\r\nimport Polygon from '../../Polygon';\r\nimport Vector from '../../Vector';\r\nimport Particle from '../../engine/mass-aggregate/Particle';\r\nimport MassAggregateEngine from '../../engine/mass-aggregate/MassAggregateEngine';\r\nimport MassAggregateDrawing from '../../engine/mass-aggregate/MassAggregateDrawing';\r\nimport TerrainElement from '../../engine/mass-aggregate/TerrainElement';\r\n\r\n// XXX Add a friction slider here and see if you can figure out a decent default value\r\n\r\nfunction startingPosition() {\r\n    return new Vector(0, 0.9);\r\n}\r\n\r\nexport default {\r\n    components: { InteractiveSimulationDisplay, RestartButton, RestitutionSlider, AngleSlider, LengthSlider },\r\n    mixins: [Demo],\r\n    data() {\r\n        const restitution = 0.45;\r\n\r\n        return {\r\n            particle: new Particle({ origin: startingPosition(), mass: 1 }),\r\n            platform: new TerrainElement({\r\n                polygon: new Polygon({\r\n                    vertices: [\r\n                        new Vector(-0.5, -2), new Vector(0.5, -2),\r\n                        new Vector(0.5, 0), new Vector(-0.5, 0),\r\n                    ],\r\n                }),\r\n                restitution,\r\n                friction: 1e-2,\r\n            }),\r\n            platformAngle: 0,\r\n            platformLength: 1,\r\n            restitution,\r\n        };\r\n    },\r\n    watch: {\r\n        platformAngle() {\r\n            this.updatePlatformLayout();\r\n        },\r\n        platformLength() {\r\n            this.updatePlatformLayout();\r\n        },\r\n        restitution() {\r\n            for (const terrainElement of this.simulation.engine.terrain)\r\n                terrainElement.restitution = this.restitution;\r\n        },\r\n    },\r\n    methods: {\r\n        createEngine(previousEngine) {\r\n            this.particle.origin = startingPosition();\r\n            this.particle.velocity = Vector.zero;\r\n\r\n            return new MassAggregateEngine({\r\n                gravity: previousEngine.gravity,\r\n                damping: previousEngine.damping,\r\n                particles: [this.particle],\r\n                terrain: [this.platform, new TerrainElement({\r\n                    restitution: this.restitution,\r\n                    friction: 1e-2,\r\n                    polygon: new Polygon({\r\n                        vertices: [\r\n                            new Vector(0.8, -5), new Vector(4, -5),\r\n                            new Vector(4, 5), new Vector(0.8, 5),\r\n                        ],\r\n                    }),\r\n                })],\r\n            });\r\n        },\r\n        createDrawing(engine) {\r\n            return new MassAggregateDrawing({ engine });\r\n        },\r\n        updatePlatformLayout() {\r\n            const lengthHalf = this.platformLength / 2;\r\n            const x = lengthHalf * Math.cos(this.platformAngle);\r\n            const y = lengthHalf * Math.sin(this.platformAngle);\r\n            this.platform.polygon = new Polygon({\r\n                vertices: [\r\n                    new Vector(-x, -2), new Vector(x, -2),\r\n                    new Vector(x, y), new Vector(-x, -y),\r\n                ],\r\n            });\r\n            this.simulation.engine.terrain[0].polygon = this.platform.polygon;\r\n        },\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TerrainDemo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TerrainDemo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TerrainDemo.vue?vue&type=template&id=014e951c&\"\nimport script from \"./TerrainDemo.vue?vue&type=script&lang=js&\"\nexport * from \"./TerrainDemo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TerrainDemo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"root\"}},[_c('InteractiveSimulationDisplay',{attrs:{\"simulation\":_vm.simulation}}),_c('RestartButton',{attrs:{\"id\":\"restart-button\"},on:{\"click\":_vm.restartEngine}}),_c('div',{attrs:{\"id\":\"remaining-ui\"}},[_c('div',{attrs:{\"id\":\"force-slider\"}},[_c('label',[_vm._v(\"Force\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.firingForce),expression:\"firingForce\",modifiers:{\"number\":true}}],attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":\"1e-3\",\"step\":\"1e-9\"},domProps:{\"value\":(_vm.firingForce)},on:{\"__r\":function($event){_vm.firingForce=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('ParticleMassSliders',{attrs:{\"particles\":_vm.particles,\"min\":1,\"max\":5}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',[_c('tbody',_vm._l((_vm.particles),function(particle,index){return _c('tr',{key:index},[_c('label',{attrs:{\"for\":'mass-input' + index}},[_vm._v(\"\\n        Particle \"+_vm._s(index)+\" mass\\n      \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(particle.mass),expression:\"particle.mass\",modifiers:{\"number\":true}}],attrs:{\"id\":'mass-input' + index,\"type\":\"range\",\"min\":_vm.min,\"max\":_vm.max,\"step\":\"1e-9\"},domProps:{\"value\":(particle.mass)},on:{\"__r\":function($event){_vm.$set(particle, \"mass\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <table>\r\n    <tbody>\r\n      <tr\r\n        v-for=\"(particle, index) in particles\"\r\n        :key=\"index\"\r\n      >\r\n        <label :for=\"'mass-input' + index\">\r\n          Particle {{ index }} mass\r\n        </label>\r\n        <input\r\n          :id=\"'mass-input' + index\"\r\n          v-model.number=\"particle.mass\"\r\n          type=\"range\"\r\n          :min=\"min\"\r\n          :max=\"max\"\r\n          step=\"1e-9\"\r\n        >\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script lang=\"js\">\r\nexport default {\r\n    props: {\r\n        particles: Array,\r\n        min: Number,\r\n        max: Number,\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParticleMassSliders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParticleMassSliders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ParticleMassSliders.vue?vue&type=template&id=e8265d9e&\"\nimport script from \"./ParticleMassSliders.vue?vue&type=script&lang=js&\"\nexport * from \"./ParticleMassSliders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div id=\"root\">\r\n        <InteractiveSimulationDisplay :simulation=\"simulation\" />\r\n        <RestartButton id=\"restart-button\" @click=\"restartEngine\" />\r\n        <div id=\"remaining-ui\">\r\n            <div id=\"force-slider\">\r\n                <label>Force</label>\r\n                <input v-model.number=\"firingForce\" type=\"range\" min=\"0\" max=\"1e-3\" step=\"1e-9\" />\r\n            </div>\r\n            <ParticleMassSliders :particles=\"particles\" :min=\"1\" :max=\"5\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style>\r\ndiv#root {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n#restart-button {\r\n    padding-top: 3%;\r\n    padding-bottom: 5%;\r\n}\r\n\r\ndiv#force-slider {\r\n    display: flex;\r\n}\r\n</style>\r\n\r\n<script lang=\"js\">\r\nimport Demo from '../Demo';\r\nimport InteractiveSimulationDisplay from '../InteractiveSimulationDisplay';\r\nimport RestartButton from '../RestartButton';\r\nimport ParticleMassSliders from '../ParticleMassSliders';\r\nimport MassAggregateEngine from '../../engine/mass-aggregate/MassAggregateEngine';\r\nimport MassAggregateDrawing from '../../engine/mass-aggregate/MassAggregateDrawing';\r\nimport Particle from '../../engine/mass-aggregate/Particle';\r\nimport Vector from '../../Vector';\r\n\r\nconst leftParticlePosition = new Vector(-0.5, 0);\r\n\r\nconst rightParticlePosition = new Vector(0.5, 0);\r\n\r\nclass FiredParticle extends Particle {\r\n    constructor({ firingForce, ...params }) {\r\n        super(params);\r\n        this.firingForce = firingForce;\r\n        this.fired = false;\r\n    }\r\n\r\n    updateVelocity(timestep) {\r\n        if (!this.fired) {\r\n            this.fired = true;\r\n            this.force.add(this.firingForce);\r\n        }\r\n\r\n        super.updateVelocity(timestep);\r\n    }\r\n}\r\n\r\nexport default {\r\n    components: { InteractiveSimulationDisplay, RestartButton, ParticleMassSliders },\r\n    mixins: [Demo],\r\n    data() {\r\n        const firingForce = 1.3e-4;\r\n\r\n        return {\r\n            firingForce,\r\n            particles: [\r\n                new FiredParticle({\r\n                    origin: leftParticlePosition.cloned,\r\n                    mass: 1,\r\n                    firingForce: new Vector(firingForce, 0),\r\n                }),\r\n                new FiredParticle({\r\n                    origin: rightParticlePosition.cloned,\r\n                    mass: 1,\r\n                    firingForce: new Vector(-firingForce, 0),\r\n                }),\r\n            ],\r\n        };\r\n    },\r\n    methods: {\r\n        createEngine() {\r\n            this.particles[0].origin = leftParticlePosition.cloned;\r\n            this.particles[0].velocity = Vector.zero;\r\n            this.particles[0].fired = false;\r\n            this.particles[0].firingForce = new Vector(this.firingForce, 0);\r\n            this.particles[1].origin = rightParticlePosition.cloned;\r\n            this.particles[1].velocity = Vector.zero;\r\n            this.particles[1].fired = false;\r\n            this.particles[1].firingForce = new Vector(-this.firingForce, 0);\r\n\r\n            return new MassAggregateEngine({\r\n                gravity: 0,\r\n                particles: this.particles,\r\n            });\r\n        },\r\n        createDrawing(engine) {\r\n            return new MassAggregateDrawing({ engine });\r\n        },\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParticleCollisionDemo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParticleCollisionDemo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ParticleCollisionDemo.vue?vue&type=template&id=1799913e&\"\nimport script from \"./ParticleCollisionDemo.vue?vue&type=script&lang=js&\"\nexport * from \"./ParticleCollisionDemo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ParticleCollisionDemo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"root\"}},[_c('InteractiveSimulationDisplay',{attrs:{\"simulation\":_vm.simulation}}),_c('RestartButton',{attrs:{\"id\":\"restart-button\"},on:{\"click\":_vm.restartEngine}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Spring from './Spring';\r\nimport Particle from './Particle';\r\nimport Vector from '../../Vector';\r\n\r\nexport default class Rod extends Spring {\r\n    public contract(fromParticle: Particle, toParticle: Particle) {\r\n        if (fromParticle.fixed)\r\n            return;\r\n        if (toParticle.fixed)\r\n            this.contractOne(fromParticle, toParticle);\r\n        else\r\n            this.contractBoth(fromParticle, toParticle);\r\n    }\r\n\r\n    public contractOne(fromParticle: Particle, toParticle: Particle): void {\r\n        const direction = fromParticle.origin.direction(toParticle.origin);\r\n        fromParticle.origin.add(direction.scaled(this.lengthDelta));\r\n    }\r\n\r\n    public contractBoth(fromParticle: Particle, toParticle: Particle): void {\r\n        const direction = fromParticle.origin.direction(toParticle.origin);\r\n        const netMass = fromParticle.mass + toParticle.mass;\r\n        fromParticle.origin.add(direction.scaled(this.lengthDelta * toParticle.mass / netMass));\r\n    }\r\n}\r\n","<template>\r\n    <div id=\"root\">\r\n        <InteractiveSimulationDisplay :simulation=\"simulation\" />\r\n        <RestartButton id=\"restart-button\" @click=\"restartEngine\" />\r\n    </div>\r\n</template>\r\n\r\n<style>\r\ndiv#root {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n</style>\r\n\r\n<script lang=\"js\">\r\nimport Demo from '../Demo';\r\nimport InteractiveSimulationDisplay from '../InteractiveSimulationDisplay';\r\nimport RestartButton from '../RestartButton';\r\nimport MassAggregateEngine from '../../engine/mass-aggregate/MassAggregateEngine';\r\nimport MassAggregateDrawing from '../../engine/mass-aggregate/MassAggregateDrawing';\r\nimport Rod from '../../engine/mass-aggregate/Rod';\r\nimport Particle from '../../engine/mass-aggregate/Particle';\r\nimport TerrainElement from '../../engine/mass-aggregate/TerrainElement';\r\nimport Vector from '../../Vector';\r\nimport Polygon from '../../Polygon';\r\n\r\nexport default {\r\n    components: {\r\n        InteractiveSimulationDisplay,\r\n        RestartButton,\r\n    },\r\n    mixins: [Demo],\r\n    methods: {\r\n        createEngine() {\r\n            const particles = [\r\n                new Particle({ origin: new Vector(0, 0.8) }),\r\n                new Particle({ origin: new Vector(-0.35, 0.5) }),\r\n            ];\r\n            return new MassAggregateEngine({\r\n                particles,\r\n                springs: [\r\n                    new Rod(particles),\r\n                ],\r\n                terrain: [\r\n                    new TerrainElement({\r\n                        polygon: new Polygon({\r\n                            vertices: [\r\n                                new Vector(5, -5), new Vector(5, 5),\r\n                                new Vector(0.7, 5), new Vector(0.7, -5),\r\n                            ],\r\n                        }),\r\n                        restitution: 0.3,\r\n                    }),\r\n                    new TerrainElement({\r\n                        polygon: new Polygon({\r\n                            vertices: [\r\n                                new Vector(0.8, 0), new Vector(-5, 0),\r\n                                new Vector(-5, -5), new Vector(0.8, -5),\r\n                            ],\r\n                        }),\r\n                        restitution: 0.3,\r\n                    }),\r\n                ],\r\n            });\r\n        },\r\n        createDrawing(engine) {\r\n            return new MassAggregateDrawing({ engine });\r\n        },\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RodDemo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RodDemo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RodDemo.vue?vue&type=template&id=38d5db29&\"\nimport script from \"./RodDemo.vue?vue&type=script&lang=js&\"\nexport * from \"./RodDemo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RodDemo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"root\"}},[_c('InteractiveSimulationDisplay',{attrs:{\"simulation\":_vm.simulation}}),_c('RestartButton',{attrs:{\"id\":\"restart-button\"},on:{\"click\":_vm.restartEngine}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"root\">\r\n        <InteractiveSimulationDisplay :simulation=\"simulation\" />\r\n        <RestartButton id=\"restart-button\" @click=\"restartEngine\" />\r\n    </div>\r\n</template>\r\n\r\n<style>\r\ndiv#root {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n\r\n#restart-button {\r\n    padding-top: 3%;\r\n}\r\n</style>\r\n\r\n\r\n<script lang=\"js\">\r\nimport Demo from '../Demo';\r\nimport InteractiveSimulationDisplay from '../InteractiveSimulationDisplay';\r\nimport RestartButton from '../RestartButton';\r\nimport MassAggregateEngine from '../../engine/mass-aggregate/MassAggregateEngine';\r\nimport MassAggregateDrawing from '../../engine/mass-aggregate/MassAggregateDrawing';\r\nimport Particle from '../../engine/mass-aggregate/Particle';\r\nimport Rod from '../../engine/mass-aggregate/Rod';\r\nimport ElasticSpring from '../../engine/mass-aggregate/ElasticSpring';\r\nimport TerrainElement from '../../engine/mass-aggregate/TerrainElement';\r\nimport Vector from '../../Vector';\r\nimport Polygon from '../../Polygon';\r\n\r\nexport default {\r\n    components: {\r\n        InteractiveSimulationDisplay,\r\n        RestartButton,\r\n    },\r\n    mixins: [Demo],\r\n    methods: {\r\n        createEngine(previousEngine) {\r\n            const particles = [\r\n                new Particle({ origin: new Vector(-0.1, 0.1) }),\r\n                new Particle({ origin: new Vector(0.1, 0.1) }),\r\n                new Particle({ origin: new Vector(0.1, -0.1) }),\r\n                new Particle({ origin: new Vector(-0.1, -0.1) }),\r\n            ];\r\n            const terrain = [\r\n                new TerrainElement({\r\n                    polygon: new Polygon({ vertices: [\r\n                        new Vector(-1, -1), new Vector(1, -1),\r\n                        new Vector(1, -0.5), new Vector(-1, -0.5),\r\n                    ] }),\r\n                }),\r\n            ];\r\n            const springs = [\r\n                new ElasticSpring({ particles: [particles[0], particles[1]], stiffness: 1e-3 }),\r\n                new ElasticSpring({ particles: [particles[1], particles[2]], stiffness: 1e-3 }),\r\n                new ElasticSpring({ particles: [particles[2], particles[3]], stiffness: 1e-3 }),\r\n                new ElasticSpring({ particles: [particles[3], particles[0]], stiffness: 1e-3 }),\r\n                new ElasticSpring({ particles: [particles[0], particles[2]], stiffness: 1e-3 }),\r\n                new ElasticSpring({ particles: [particles[1], particles[3]], stiffness: 1e-3 }),\r\n            ];\r\n            return new MassAggregateEngine({ particles, terrain, springs });\r\n        },\r\n        createDrawing(engine) {\r\n            return new MassAggregateDrawing({ engine });\r\n        },\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShapesDemo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShapesDemo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShapesDemo.vue?vue&type=template&id=07ca59c9&\"\nimport script from \"./ShapesDemo.vue?vue&type=script&lang=js&\"\nexport * from \"./ShapesDemo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShapesDemo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div id=\"root\">\r\n        <div id=\"choice\">\r\n            <select id=\"selection\" v-model=\"currentDemo\">\r\n                <option\r\n                    v-for=\"demo in demos\"\r\n                    :key=\"demo.title\"\r\n                    :value=\"demo.component\"\r\n                >\r\n                    {{ demo.title }}\r\n                </option>\r\n            </select>\r\n        </div>\r\n\r\n        <transition name=\"demo\" mode=\"out-in\">\r\n            <component :is=\"currentDemo\" />\r\n        </transition>\r\n    </div>\r\n</template>\r\n\r\n<style>\r\ndiv#root {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.demo-enter-active {\r\n    transition: all ease-in-out .5s;\r\n}\r\n\r\n.demo-enter, .demo-leave-to {\r\n    opacity: 0;\r\n}\r\n\r\n.demo-enter-to, .demo-leave {\r\n    opacity: 100%;\r\n}\r\n</style>\r\n\r\n<script lang=\"js\">\r\nimport ParticleDemo from './mass-aggregate/ParticleDemo';\r\nimport SpringDemo from './mass-aggregate/SpringDemo';\r\nimport TerrainDemo from './mass-aggregate/TerrainDemo';\r\nimport ParticleCollisionDemo from './mass-aggregate/ParticleCollisionDemo';\r\nimport RodDemo from './mass-aggregate/RodDemo';\r\nimport ShapesDemo from './mass-aggregate/ShapesDemo';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            demos: [\r\n                {\r\n                    title: 'Particle Demo',\r\n                    component: ParticleDemo,\r\n                },\r\n                {\r\n                    title: 'Spring Demo',\r\n                    component: SpringDemo,\r\n                },\r\n                {\r\n                    title: 'Terrain Demo',\r\n                    component: TerrainDemo,\r\n                },\r\n                {\r\n                    title: 'Particle Collision Demo',\r\n                    component: ParticleCollisionDemo,\r\n                },\r\n                {\r\n                    title: 'Rod Demo',\r\n                    component: RodDemo,\r\n                },\r\n                {\r\n                    title: 'Shapes Demo',\r\n                    component: ShapesDemo,\r\n                },\r\n            ],\r\n            currentDemo: undefined,\r\n        };\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DemoChoice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DemoChoice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DemoChoice.vue?vue&type=template&id=51573fa3&\"\nimport script from \"./DemoChoice.vue?vue&type=script&lang=js&\"\nexport * from \"./DemoChoice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DemoChoice.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <DemoChoice />\r\n</template>\r\n\r\n<script>\r\nimport DemoChoice from './components/DemoChoice';\r\n\r\n// XXX Pass the line tests\r\n\r\nexport default {\r\n    components: { DemoChoice },\r\n};\r\n</script>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2a6adcc9&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* tslint:disable: no-unused-expression */\r\n\r\nimport Vue from 'vue';\r\nimport App from './App.vue';\r\n\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n    el: '#app',\r\n    render: h => h(App),\r\n});\r\n"],"sourceRoot":""}