(function(t){function e(e){for(var n,o,a=e[0],l=e[1],c=e[2],d=0,h=[];d<a.length;d++)o=a[d],s[o]&&h.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,a=1;a<i.length;a++){var l=i[a];0!==s[l]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},s={app:0},r=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=l;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DemoChoice")},r=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.currentDemo,expression:"currentDemo"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.currentDemo=e.target.multiple?i:i[0]}}},t._l(t.demos,function(e){return i("option",{key:e.title,domProps:{value:e.component}},[t._v("\n      "+t._s(e.title)+"\n    ")])}),0),i(t.currentDemo,{tag:"component"})],1)},a=[],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",[i("tbody",[i("tr",[i("td",[i("InteractiveSimulationDisplay",{attrs:{simulation:t.simulation}})],1)]),i("tr",[i("td",[i("RestartButton",{on:{click:t.restartEngine}})],1)]),i("tr",[i("td",[i("GravitySlider",{attrs:{engine:t.simulation.engine}})],1)])])])},c=[];class u{constructor({drawing:t,engine:e}){this.engine=e,this.drawing=t}redraw(){this.drawing.redraw(this.engine)}integrateTime(t){this.engine.integrateTime(t)}}class d extends Error{}var h,p,f={data(){return{simulation:void 0}},created(){this.simulation=new u({engine:this.createEngine({}),drawing:this.createDrawing()})},mounted(){this.simulation.drawing.context=document.getElementsByTagName("canvas")[0].getContext("2d")},methods:{createEngine(t){throw new d},createDrawing(){throw new d},restartEngine(){this.simulation.engine=this.createEngine(this.simulation.engine)}}},m=f,g=i("2877"),v=Object(g["a"])(m,h,p,!1,null,null,null);v.options.__file="Demo.vue";var y=v.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("label",{attrs:{for:"gravity-slider"}},[t._v("\n    Gravity\n  ")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.engine.gravity,expression:"engine.gravity",modifiers:{number:!0}}],attrs:{id:"gravity-slider",type:"range",min:"0",max:"1e-5",step:"1e-9"},domProps:{value:t.engine.gravity},on:{__r:function(e){t.$set(t.engine,"gravity",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])},x=[],b={props:{engine:Object}},_=b,S=Object(g["a"])(_,w,x,!1,null,null,null);S.options.__file="GravitySlider.vue";var P=S.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",t._g({},t.$listeners),[t._v("\n  Restart\n")])},D=[],M={},T=Object(g["a"])(M,E,D,!1,null,null,null);T.options.__file="RestartButton.vue";var j=T.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("SimulationDisplay",{attrs:{simulation:t.simulation},on:{mousemove:t.onMouseMove,mouseup:t.onMouseUp,mousedown:t.onMouseDown,mouseleave:t.onMouseLeave}})},$=[];const O=1e-5;function q(t,e=(t=>t)){let i,n;for(const s of t){const t=e(s);void 0!==t&&((void 0===i||void 0===n||t<n)&&(i=s,n=t))}return i}function R(t,e,i=O){return Math.abs(t-e)<=i}function A({value:t,limits:e}){const i=Math.min(...e),n=Math.max(...e);return i<=t&&t<=n}class I{static get zero(){return new I(0,0)}constructor(t,e){this.x=t,this.y=e}reset(){this.x=0,this.y=0}normal(t){const e=new I(-this.y,this.x).normalized;return e.dot(t)>0?e:e.negated}flippedTowards(t){return this.dot(t)>0?this.cloned:this.negated}get cloned(){return new I(this.x,this.y)}get magnitude(){return Math.sqrt(this.magnitudeSquared)}get magnitudeSquared(){return this.x*this.x+this.y*this.y}get normalized(){return this.scaled(1/this.magnitude)}get negated(){return new I(-this.x,-this.y)}get isNormalized(){return R(this.magnitudeSquared,1)}almostEquals(t){return R(this.x,t.x)&&R(this.y,t.y)}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}added(t){return new I(this.x+t.x,this.y+t.y)}subtracted(t){return new I(this.x-t.x,this.y-t.y)}scaled(t){return new I(this.x*t,this.y*t)}add(t){this.x+=t.x,this.y+=t.y}subtract(t){this.x-=t.x,this.y-=t.y}scale(t){this.x*=t,this.y*=t}distanceSquared(t){return this.subtracted(t).magnitudeSquared}distance(t){return Math.sqrt(this.distanceSquared(t))}direction(t){return t.subtracted(this).normalized}projected(t){return t.isNormalized||(t=t.normalized),t.normalized.scaled(this.dot(t))}}var L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("canvas",{attrs:{width:"500",height:"500"},on:{mousemove:function(e){t.reEmit("mousemove",e)},mousedown:function(e){t.reEmit("mousedown",e)},mouseup:function(e){t.reEmit("mouseup",e)},mouseleave:function(e){t.$emit("mouseleave")}}})},k=[];function C(t,e){e&&(t.fillStyle=e),t.fillRect(0,0,t.canvas.width,t.canvas.height)}function z(t,{position:e,radius:i},n){n&&(t.fillStyle=n),t.beginPath(),e=V(e,t.canvas);const s=t.canvas.width*i,r=t.canvas.height*i;t.ellipse(e.x,e.y,s,r,0,0,2*Math.PI),t.fill()}function N(t,e,i){i&&(t.strokeStyle=i),t.beginPath();const n=V(e.origin,t.canvas);t.moveTo(n.x,n.y);const s=V(e.end,t.canvas);t.lineTo(s.x,s.y),t.stroke()}function B(t,e,i){if(i&&(t.fillStyle=i),!e.edgesAreConnected())throw new Error("Disconnected polygon edges");const n=e.edges.map(e=>V(e.origin,t.canvas));t.beginPath(),t.moveTo(n[0].x,n[0].y);for(const s of n.slice(1))t.lineTo(s.x,s.y);t.fill()}function V(t,{width:e,height:i}){const n=t.added(new I(1,1)).scaled(.5);return new I(e*n.x,i*(1-n.y))}function U(t,{width:e,height:i}){const n=new I(t.x/e,1-t.y/i);return n.added(new I(-.5,-.5)).scaled(2)}var G={props:{simulation:Object},mounted(){const t=e=>{this.simulation.integrateTime(e),this.simulation.redraw(),requestAnimationFrame(t)};requestAnimationFrame(t)},methods:{reEmit(t,e){const{canvas:i}=this.simulation.drawing.context;this.$emit(t,U(this.clickPosition(e),i))},clickPosition(t){const{canvas:e}=this.simulation.drawing.context,{left:i,top:n}=e.getBoundingClientRect();return new I(t.clientX-i,t.clientY-n)}}},J=G,X=Object(g["a"])(J,L,k,!1,null,null,null);X.options.__file="SimulationDisplay.vue";var Y=X.exports;const H=.08,K=H*H,Q=.05;var W={components:{SimulationDisplay:Y},props:{simulation:Object},data(){return{selection:{particle:void 0,wasFixed:void 0},previousPosition:void 0}},methods:{onMouseMove(t){void 0!==this.selection.particle&&(this.previousPosition=this.selection.particle.position,this.selection.particle.velocity=I.zero,this.selection.particle.position=t)},onMouseUp(t){void 0!==this.selection.particle&&(this.selection.wasFixed||(this.selection.particle.fixed=!1,this.throwSelectedParticle(t)),this.selection.particle=void 0)},onMouseDown(t){this.selection.particle=this.newlySelectedParticle(t),void 0!==this.selection.particle&&(this.selection.particle.position=t,this.selection.wasFixed=this.selection.particle.fixed,this.selection.particle.fixed=!0)},onMouseLeave(){void 0!==this.selection.particle&&(this.selection.wasFixed||(this.selection.particle.fixed=!1),this.selection.particle=void 0)},throwSelectedParticle(){if(void 0===this.previousPosition)return;const t=this.selection.particle.position.subtracted(this.previousPosition);console.log(t.x,t.y),this.selection.particle.velocity=t.scaled(Q)},newlySelectedParticle(t){return q(this.simulation.engine.particles,e=>{const i=e.position.distanceSquared(t);if(!(i>K))return i})}}},Z=W,tt=Object(g["a"])(Z,F,$,!1,null,null,null);tt.options.__file="InteractiveSimulationDisplay.vue";var et=tt.exports;class it{static get timestep(){return 1}constructor(){this.timeAccumulator=0,this.lastIntegrationTime=null}integrateTime(t){if(null!==this.lastIntegrationTime){this.timeAccumulator+=t-this.lastIntegrationTime,this.lastIntegrationTime=t;while(this.timeAccumulator>=it.timestep)this.timeAccumulator-=it.timestep,this.integrateStep()}else this.lastIntegrationTime=t}integrateStep(){throw new d}}const nt=.006;class st{constructor({position:t,mass:e=1,gravityScale:i=1,fixedRadius:n,fixed:s=!1}){this.position=t,this.gravityScale=i,this.force=I.zero,this.velocity=I.zero,this.mass=e,this.fixedRadius=n,this.fixed=s}applyGravity(t){this.force.add(new I(0,-t*this.mass).scaled(this.gravityScale))}update(t,e){this.fixed?this.velocity=I.zero:(this.applyGravity(t),this.updateVelocity(),this.applyDamping(e),this.updatePosition())}overlaps(t){const e=this.radius+t.radius;return e*e>this.position.distanceSquared(t.position)}get radius(){return void 0!==this.fixedRadius?this.fixedRadius:nt*Math.sqrt(this.mass)}get speed(){return this.velocity.magnitude}get speedSquared(){return this.velocity.magnitudeSquared}applyDamping(t){this.velocity.scale(Math.pow(1-t,it.timestep))}updateVelocity(){this.velocity.add(this.acceleration.scaled(it.timestep))}updatePosition(){this.position.add(this.velocity.scaled(it.timestep))}get acceleration(){return this.force.scaled(1/this.mass)}}class rt{solve(){throw new d}}class ot extends rt{constructor(t){super(),this.particles=t}solve(){this.solveInterpenetration(),this.solveBounce()}solveInterpenetration(){const t=this.normal.scaled(this.interpenetration/2);this.particles[0].position.subtract(t),this.particles[1].position.add(t)}solveBounce(){this.particles[0].velocity=this.normal.scaled(-this.particles[1].mass*this.netSpeed/this.netMass),this.particles[1].velocity=this.normal.scaled(this.particles[0].mass*this.netSpeed/this.netMass)}get interpenetration(){const t=this.particles[0].position.distance(this.particles[1].position);return this.particles[0].radius+this.particles[1].radius-t}get normal(){return this.particles[0].position.direction(this.particles[1].position)}get netMass(){return this.particles[0].mass+this.particles[1].mass}get netSpeed(){return this.particles[0].speed+this.particles[1].speed}}const at=13e-5,lt=at*at;class ct extends rt{constructor({particle:t,terrainElement:e}){super(),this.particle=t,this.terrainElement=e}solve(){const t=this.edge(),e=this.normal(t),i=this.penetrationDepth(t);this.removePenetration(t,e,i),this.bounceParticle(e)||(this.slideParticle(t,i),this.applyFriction(t))}removePenetration(t,e,i){this.particle.position.add(e.scaled(i))}slideParticle(t,e){const i=t.offset.flippedTowards(this.particle.velocity);this.particle.velocity=this.particle.velocity.projected(i)}applyFriction(t){this.particle.velocity.scale(1-this.terrainElement.friction)}bounceParticle(t){if(this.particle.speedSquared<lt)return!1;const e=this.particle.velocity.projected(t);return this.particle.velocity.subtract(e),this.particle.velocity.add(e.scaled(-this.terrainElement.restitution)),!0}edge(){return this.terrainElement.polygon.closestEdge(this.particle.position)}normal(t){return t.normal(this.particle.velocity.negated)}penetrationDepth(t){return t.distance(this.particle.position)}}const ut=10;function dt({x:t,y:e}){return t>=-ut&&t<=ut&&e>=-ut&&e<=ut}class ht extends it{static get defaultTimestep(){return 1}constructor({timestep:t=ht.defaultTimestep,gravity:e=1e-6,damping:i=7e-4,particles:n=[],springs:s=[],terrain:r=[]}={}){super(t),this.gravity=e,this.particles=n,this.springs=s,this.terrain=r,this.damping=i}clearUselessParticles(){this.particles=this.particles.filter(t=>dt(t.position))}integrateStep(){this.resetForces(),this.updateSprings(),this.solveContacts(),this.updateParticles(),this.clearUselessParticles()}solveContacts(){for(const t of this.findContacts())t.solve()}findContacts(){return[...this.findParticleContacts(),...this.findTerrainContacts()]}*findParticleContacts(){for(let t=0;t<this.particles.length-1;++t){const e=this.particles[t];for(const i of this.particles.slice(t+1))i.overlaps(e)&&(yield new ot([e,i]))}}*findTerrainContacts(){for(const t of this.particles)for(const e of this.terrain)e.polygon.containsPoint(t.position)&&(yield new ct({particle:t,terrainElement:e}))}resetForces(){for(const t of this.particles)t.force.reset()}updateSprings(){for(const t of this.springs)t.update(this.timestep)}updateParticles(){for(const t of this.particles)t.update(this.gravity,this.damping)}}class pt{constructor({origin:t,offset:e,end:i}){if(void 0!==e&&void 0!==i)throw new TypeError("Either offset or end may be specified, but not both");if(this.origin=t.cloned,void 0!==i)this.end=i;else{if(void 0===e)throw new TypeError("Either offset or end must be specified");this.offset=e}}normal(t){return this.offset.normal(t)}rayIntersects(t){const{t:e,u:i}=this.intersectionParameters(t);return void 0!==e&&void 0!==i&&(-O<e&&-O<i&&i<1+O)}intersects(t){const{t:e,u:i}=this.intersectionParameters(t);return void 0!==e&&void 0!==i&&(-O<e&&e<1+O&&-O<i&&i<1+O)}intersection(t){const{t:e,u:i}=this.intersectionParameters(t);if(void 0!==e&&void 0!==i&&!(e>1+O||e<-O||i>1+O||i<-O))return this.offset.scaled(e).added(this.origin)}intersectionParameters(t){const e=t.origin.subtracted(this.origin),i=this.offset.cross(t.offset);return R(i,0)?{}:{t:e.cross(t.offset)/i,u:e.negated.cross(this.offset)/-i}}containsPoint(t){return R(t.subtracted(this.origin).cross(this.offset),0)&&A({value:t.x,limits:[this.origin.x,this.end.x]})&&A({value:t.y,limits:[this.origin.y,this.end.y]})}closestPoint(t){if(0===this.offset.x)return new I(this.origin.x,t.y);if(0===this.offset.y)return new I(t.x,this.origin.y);const e=this.offset.dot(t),i=(e*this.offset.y+this.offset.x*this.offset.cross(this.origin))/this.offset.magnitudeSquared;return new I((e-i*this.offset.y)/this.offset.x,i)}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceSquared(t){return this.closestPoint(t).distanceSquared(t)}get opposite(){return new pt({origin:this.origin,offset:this.offset.negated})}get end(){return this.origin.added(this.offset)}set end(t){this.offset=t.subtracted(this.origin)}get length(){return Math.sqrt(this.lengthSquared)}get lengthSquared(){return this.offset.x*this.offset.x+this.offset.y*this.offset.y}}const ft=1e5,mt="white",gt={hue:225,saturation:70,lightness:40},vt=360,yt="grey",wt="rgb(155, 200, 200)",xt="pink";class bt{constructor({context:t,drawingForces:e=!1,drawingTerrain:i=!0,drawingSprings:n=!0,drawingParticles:s=!0}={}){this.context=t,this.drawingForces=e,this.drawingTerrain=i,this.drawingSprings=n,this.drawingParticles=s}redraw(t){this.context&&(this.clear(),this.drawTerrain(t.terrain),this.drawParticles(t.particles),this.drawSprings(t.springs),this.drawForces(t.particles))}clear(){C(this.context,mt)}drawTerrain(t){if(this.drawingTerrain)for(const{polygon:e}of t)B(this.context,e,wt)}drawForces(t){if(this.drawingForces)for(const e of t)N(this.context,new pt(e.position,e.force.scaled(ft)),xt)}drawParticles(t){if(!this.drawingParticles||0===t.length)return;let e=gt.hue;const i=Math.min((vt-gt.hue)/t.length,20);for(const n of t){const t=`hsl(${e}, ${gt.saturation}%, ${gt.lightness}%)`;z(this.context,{position:n.position,radius:n.radius},t),e-=i}}drawSprings(t){if(this.drawingSprings)for(const e of t)N(this.context,e.line,yt)}}var _t={components:{InteractiveSimulationDisplay:et,RestartButton:j,GravitySlider:P},mixins:[y],methods:{createEngine(t){return new ht({gravity:t.gravity,damping:0,particles:[new st({position:new I(0,0)})]})},createDrawing(){return new bt}}},St=_t,Pt=Object(g["a"])(St,l,c,!1,null,null,null);Pt.options.__file="ParticleDemo.vue";var Et=Pt.exports,Dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",[i("tr",[i("td",[i("InteractiveSimulationDisplay",{attrs:{simulation:t.simulation}})],1)]),i("tr",[i("td",[i("RestartButton",{on:{click:t.restartEngine}})],1)]),i("tr",[i("td",[i("StiffnessSlider",{model:{value:t.stiffness,callback:function(e){t.stiffness=e},expression:"stiffness"}})],1)])])},Mt=[],Tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("label",{attrs:{for:"stiffness-slider"}},[t._v("\n    Stiffness\n  ")]),i("input",{attrs:{id:"stiffness-slider",type:"range",min:"1e-6",max:"1e-4",step:"1e-9"},domProps:{value:t.value},on:{input:function(e){t.$emit("input",Number(e.target.value))}}})])},jt=[],Ft={props:{value:Number}},$t=Ft,Ot=Object(g["a"])($t,Tt,jt,!1,null,null,null);Ot.options.__file="StiffnessSlider.vue";var qt=Ot.exports;class Rt{constructor({particles:t,stiffness:e}){this.particles=t,this.stiffness=e,this.restingLength=this.currentLength}update(){this.contract(this.particles[0],this.particles[1]),this.contract(this.particles[1],this.particles[0])}contract(t,e){const i=t.position.direction(e.position);t.force.add(i.scaled(this.contractionMagnitude))}get contractionMagnitude(){return this.stiffness*this.lengthDelta}get line(){return new pt({origin:this.particles[0].position,end:this.particles[1].position})}get currentLength(){return this.particles[0].position.distance(this.particles[1].position)}get lengthDelta(){return this.currentLength-this.restingLength}}var At={components:{InteractiveSimulationDisplay:et,RestartButton:j,StiffnessSlider:qt},mixins:[y],data(){return{stiffness:1e-5}},watch:{stiffness(t){this.simulation.engine.springs[0].stiffness=t}},methods:{createEngine(t){const e=[new st({position:I.zero,mass:1,fixed:!0}),new st({position:new I(-.2,.2),gravityScale:2.5,mass:1})];return new ht({gravity:t.gravity,damping:t.damping,particles:e,springs:[new Rt({particles:e,stiffness:this.stiffness})]})},createDrawing(){return new bt}}},It=At,Lt=Object(g["a"])(It,Dt,Mt,!1,null,null,null);Lt.options.__file="SpringDemo.vue";var kt=Lt.exports,Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",[i("tbody",[i("tr",[i("td",[i("InteractiveSimulationDisplay",{attrs:{simulation:t.simulation}})],1)]),i("tr",[i("td",[i("RestartButton",{on:{click:t.restartEngine}})],1)]),i("tr",[i("td",[i("RestitutionSlider",{attrs:{terrainElement:t.platform}})],1)]),i("tr",[i("td",[i("AngleSlider",{model:{value:t.platformAngle,callback:function(e){t.platformAngle=e},expression:"platformAngle"}})],1)]),i("tr",[i("td",[i("LengthSlider",{model:{value:t.platformLength,callback:function(e){t.platformLength=e},expression:"platformLength"}})],1)])])])},zt=[],Nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("label",{attrs:{for:"restitution-slider"}},[t._v("\n    Restitution\n  ")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.terrainElement.restitution,expression:"terrainElement.restitution",modifiers:{number:!0}}],attrs:{id:"restitution-slider",type:"range",min:"0",max:"0.9",step:"1e-9"},domProps:{value:t.terrainElement.restitution},on:{__r:function(e){t.$set(t.terrainElement,"restitution",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])},Bt=[],Vt={props:{terrainElement:Object}},Ut=Vt,Gt=Object(g["a"])(Ut,Nt,Bt,!1,null,null,null);Gt.options.__file="RestitutionSlider.vue";var Jt=Gt.exports,Xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("label",{attrs:{for:"angle-slider"}},[t._v("\n    Angle\n  ")]),i("input",{attrs:{id:"angle-slider",type:"range",min:"-1.57",max:"1.57",step:"1e-9"},domProps:{value:t.value},on:{input:function(e){t.$emit("input",Number(e.target.value))}}})])},Yt=[],Ht={props:{value:Number}},Kt=Ht,Qt=Object(g["a"])(Kt,Xt,Yt,!1,null,null,null);Qt.options.__file="AngleSlider.vue";var Wt=Qt.exports,Zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("label",{attrs:{for:"length-slider"}},[t._v("\n    Length\n  ")]),i("input",{attrs:{id:"length-slider",type:"range",min:"0.2",max:"4",step:"1e-9"},domProps:{value:t.value},on:{input:function(e){t.$emit("input",Number(e.target.value))}}})])},te=[],ee={props:{value:Number}},ie=ee,ne=Object(g["a"])(ie,Zt,te,!1,null,null,null);ne.options.__file="LengthSlider.vue";var se=ne.exports;function*re(t){for(let e=0;e<t.length-1;++e)yield new pt({origin:t[e].cloned,end:t[e+1].cloned});yield new pt({origin:t[t.length-1].cloned,end:t[0].cloned})}class oe{static fromVertices(t){if(t.length<3)throw new Error("Polygon must have at least three vertices");return oe.fromEdges(Array.from(re(t)))}static fromEdges(t){if(t.length<3)throw new Error("Polygon must have at least three edges");return new oe(t)}constructor(t){this.edges=t}edgesAreConnected(){for(let t=1;t<this.edges.length;++t)if(!this.edges[t].origin.almostEquals(this.edges[t-1].end))return!1;return!!this.edges[0].origin.almostEquals(this.edges[this.edges.length-1].end)}containsPoint(t){const e=new pt({origin:t,offset:new I(1,0)});return this.countIntersections(e)%2===1}countIntersections(t){return this.edges.reduce((e,i)=>{return i.containsPoint(t.origin)?e:t.rayIntersects(i)?e+1:e},0)}closestEdge(t){return q(this.edges,e=>e.distance(t))}}class ae{constructor({polygon:t,restitution:e,friction:i}){this.polygon=t,this.restitution=e,this.friction=i}}function le(){return new I(0,.9)}var ce={components:{InteractiveSimulationDisplay:et,RestartButton:j,RestitutionSlider:Jt,AngleSlider:Wt,LengthSlider:se},mixins:[y],data(){const t=.45;return{particle:new st({position:le,mass:1}),platform:new ae({polygon:oe.fromVertices([new I(-.5,0),new I(.5,0),new I(.5,-2),new I(-.5,-2)]),restitution:t,friction:.01}),platformAngle:0,platformLength:1,platformRestitution:t}},watch:{platformAngle(){this.updatePlatformLayout()},platformLength(){this.updatePlatformLayout()},platformRestitution(){for(const t of this.simulation.engine.terrain)t.restitution=this.platformRestitution}},methods:{createEngine(t){return this.particle.position=le(),this.particle.velocity=I.zero,new ht({gravity:t.gravity,damping:t.damping,particles:[this.particle],terrain:[this.platform,new ae({restitution:this.platformRestitution,polygon:oe.fromVertices([new I(.8,.8),new I(4,.8),new I(4,-.8),new I(.8,-.8)])})]})},createDrawing(){return new bt},updatePlatformLayout(){const t=this.platformLength/2,e=t*Math.cos(this.platformAngle),i=t*Math.sin(this.platformAngle);this.platform.polygon=oe.fromVertices([new I(-e,-i),new I(e,i),new I(e,-2),new I(-e,-2)]),this.simulation.engine.terrain[0].polygon=this.platform.polygon}}},ue=ce,de=Object(g["a"])(ue,Ct,zt,!1,null,null,null);de.options.__file="TerrainDemo.vue";var he=de.exports,pe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",[i("tbody",[i("tr",[i("td",[i("InteractiveSimulationDisplay",{attrs:{simulation:t.simulation}})],1)]),i("tr",[i("td",[i("RestartButton",{on:{click:t.restartEngine}})],1)]),i("tr",[i("td",[i("label",[t._v("Force")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.firingForce,expression:"firingForce"}],attrs:{type:"range",min:"1e-4",max:"4e-3",step:"1e-9"},domProps:{value:t.firingForce},on:{__r:function(e){t.firingForce=e.target.value}}})])]),i("tr",[i("td",[i("ParticleMassSliders",{attrs:{particles:t.particles,min:1,max:5}})],1)])])])},fe=[],me=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",[i("tbody",t._l(t.particles,function(e,n){return i("tr",{key:n},[i("label",{attrs:{for:"mass-input"+n}},[t._v("\n        Particle "+t._s(n)+" mass\n      ")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.mass,expression:"particle.mass",modifiers:{number:!0}}],attrs:{id:"mass-input"+n,type:"range",min:t.min,max:t.max,step:"1e-9"},domProps:{value:e.mass},on:{__r:function(i){t.$set(e,"mass",t._n(i.target.value))},blur:function(e){t.$forceUpdate()}}})])}),0)])},ge=[],ve={props:{particles:Array,min:Number,max:Number}},ye=ve,we=Object(g["a"])(ye,me,ge,!1,null,null,null);we.options.__file="ParticleMassSliders.vue";var xe=we.exports;const be=new I(-.5,0),_e=new I(.5,0);class Se extends st{constructor({firingForce:t,...e}){super(e),this.firingForce=t,this.fired=!1}updateVelocity(t){this.fired||(this.fired=!0,this.force.add(this.firingForce)),super.updateVelocity(t)}}var Pe={components:{InteractiveSimulationDisplay:et,RestartButton:j,ParticleMassSliders:xe},mixins:[y],data(){const t=83e-5;return{firingForce:t,particles:[new Se({position:be.cloned,mass:1,firingForce:new I(t,0)}),new Se({position:_e.cloned,mass:1,firingForce:new I(-t,0)})]}},methods:{createEngine(){return this.particles[0].position=be.cloned,this.particles[0].velocity=I.zero,this.particles[0].fired=!1,this.particles[0].firingForce=new I(this.firingForce,0),this.particles[1].position=_e.cloned,this.particles[1].velocity=I.zero,this.particles[1].fired=!1,this.particles[1].firingForce=new I(-this.firingForce,0),new ht({gravity:0,particles:this.particles})},createDrawing(){return new bt}}},Ee=Pe,De=Object(g["a"])(Ee,pe,fe,!1,null,null,null);De.options.__file="ParticleCollisionDemo.vue";var Me=De.exports,Te={data(){return{demos:[{title:"Particle Demo",component:Et},{title:"Spring Demo",component:kt},{title:"Terrain Demo",component:he},{title:"Particle Collision Demo",component:Me}],currentDemo:void 0}}},je=Te,Fe=Object(g["a"])(je,o,a,!1,null,null,null);Fe.options.__file="DemoChoice.vue";var $e=Fe.exports,Oe={components:{DemoChoice:$e}},qe=Oe,Re=Object(g["a"])(qe,s,r,!1,null,null,null);Re.options.__file="App.vue";var Ae=Re.exports;n["a"].config.productionTip=!1,new n["a"]({el:"#app",render:t=>t(Ae)})}});
//# sourceMappingURL=app.c7af185f.js.map